<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE module [
  <!ELEMENT module (dtdversion,name,version,description*,help*,about*,requires*,file+)>
  <!ELEMENT dtdversion (#PCDATA)>
  <!ELEMENT name (#PCDATA)>
  <!ELEMENT version (#PCDATA)>
  <!ELEMENT mincmsversion (#PCDATA)>
  <!ELEMENT description (#PCDATA)>
  <!ELEMENT help (#PCDATA)>
  <!ELEMENT about (#PCDATA)>
  <!ELEMENT requires (requiredname,requiredversion)>
  <!ELEMENT requiredname (#PCDATA)>
  <!ELEMENT requiredversion (#PCDATA)>
  <!ELEMENT file (filename,isdir,data)>
  <!ELEMENT filename (#PCDATA)>
  <!ELEMENT isdir (#PCDATA)>
  <!ELEMENT data (#PCDATA)>
]>
<module>
	<dtdversion>1.3</dtdversion>
	<name>MAS_CGBlogToLISE</name>
	<version>1.0.1</version>
    <mincmsversion>2.2.0</mincmsversion>
	<help><![CDATA[PGRpdiBjbGFzcz0ibWFzLW1pZ3JhdGlvbi1oZWxwIj4KPGgzPk1BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24gTW9kdWxlPC9oMz4KCjxwPjxzdHJvbmc+TUFTIENHQmxvZyB0byBMSVNFIE1pZ3JhdGlvbjwvc3Ryb25nPiBpcyBhIHRvb2wgZm9yIG1pZ3JhdGluZyBkYXRhIGZyb20gdGhlIENHQmxvZyBtb2R1bGUgdG8gTElTRSBpbnN0YW5jZXMgaW4gQ01TIE1hZGUgU2ltcGxlLjwvcD4KCjxoND5GZWF0dXJlczwvaDQ+Cjx1bD4KICAgIDxsaT48c3Ryb25nPkNyZWF0ZSBOZXcgSW5zdGFuY2VzOjwvc3Ryb25nPiBBdXRvbWF0aWNhbGx5IGNyZWF0ZSBuZXcgTElTRSBpbnN0YW5jZXMgZnJvbSBDR0Jsb2cgZGF0YTwvbGk+CiAgICA8bGk+PHN0cm9uZz5Vc2UgRXhpc3RpbmcgSW5zdGFuY2VzOjwvc3Ryb25nPiBDb3B5IGRhdGEgdG8gZXhpc3RpbmcgTElTRSBpbnN0YW5jZXM8L2xpPgogICAgPGxpPjxzdHJvbmc+U2VsZWN0aXZlIE1pZ3JhdGlvbjo8L3N0cm9uZz4gQ2hvb3NlIHdoaWNoIGRhdGEgdG8gbWlncmF0ZSAoYXJ0aWNsZXMsIGNhdGVnb3JpZXMsIGN1c3RvbSBmaWVsZHMpPC9saT4KICAgIDxsaT48c3Ryb25nPlByZXZpZXc6PC9zdHJvbmc+IFByZXZpZXcgZGF0YSBiZWZvcmUgbWlncmF0aW9uPC9saT4KICAgIDxsaT48c3Ryb25nPkNvbXByZWhlbnNpdmUgTWFwcGluZzo8L3N0cm9uZz4gQXV0b21hdGljYWxseSBtYXBzIENHQmxvZyBkYXRhIHN0cnVjdHVyZXMgdG8gTElTRSBmb3JtYXQ8L2xpPgogICAgPGxpPjxzdHJvbmc+RXJyb3IgSGFuZGxpbmc6PC9zdHJvbmc+IERldGFpbGVkIGVycm9yIHJlcG9ydGluZyBhbmQgbG9nZ2luZzwvbGk+CjwvdWw+Cgo8aDQ+R2V0dGluZyBTdGFydGVkPC9oND4KPG9sPgogICAgPGxpPjxzdHJvbmc+UHJlcmVxdWlzaXRlczo8L3N0cm9uZz4gRW5zdXJlIGJvdGggQ0dCbG9nIGFuZCBMSVNFIG1vZHVsZXMgYXJlIGluc3RhbGxlZDwvbGk+CiAgICA8bGk+PHN0cm9uZz5BY2Nlc3MgTWlncmF0aW9uOjwvc3Ryb25nPiBHbyB0byBFeHRlbnNpb25zIOKGkiBNQVMgQ0dCbG9nIHRvIExJU0UgTWlncmF0aW9uPC9saT4KICAgIDxsaT48c3Ryb25nPkNob29zZSBJbnN0YW5jZTo8L3N0cm9uZz4gQ3JlYXRlIG5ldyBvciBzZWxlY3QgZXhpc3RpbmcgTElTRSBpbnN0YW5jZTwvbGk+CiAgICA8bGk+PHN0cm9uZz5TZWxlY3QgRGF0YTo8L3N0cm9uZz4gQ2hvb3NlIHdoaWNoIGRhdGEgdHlwZXMgdG8gbWlncmF0ZTwvbGk+CiAgICA8bGk+PHN0cm9uZz5QcmV2aWV3Ojwvc3Ryb25nPiBSZXZpZXcgd2hhdCB3aWxsIGJlIG1pZ3JhdGVkPC9saT4KICAgIDxsaT48c3Ryb25nPk1pZ3JhdGU6PC9zdHJvbmc+IFN0YXJ0IHRoZSBtaWdyYXRpb24gcHJvY2VzczwvbGk+Cjwvb2w+Cgo8aDQ+RGF0YSBNYXBwaW5nPC9oND4KPHVsPgogICAgPGxpPjxzdHJvbmc+QXJ0aWNsZXM6PC9zdHJvbmc+IENHQmxvZyBhcnRpY2xlcyDihpIgTElTRSBpdGVtczwvbGk+CiAgICA8bGk+PHN0cm9uZz5DYXRlZ29yaWVzOjwvc3Ryb25nPiBDR0Jsb2cgY2F0ZWdvcmllcyDihpIgTElTRSBjYXRlZ29yaWVzIChoaWVyYXJjaHkgcHJlc2VydmVkKTwvbGk+CiAgICA8bGk+PHN0cm9uZz5DdXN0b20gRmllbGRzOjwvc3Ryb25nPiBDR0Jsb2cgZmllbGQgZGVmaW5pdGlvbnMg4oaSIExJU0UgZmllbGQgZGVmaW5pdGlvbnM8L2xpPgogICAgPGxpPjxzdHJvbmc+RmllbGQgVmFsdWVzOjwvc3Ryb25nPiBDR0Jsb2cgZmllbGQgdmFsdWVzIOKGkiBMSVNFIGl0ZW0gZmllbGQgdmFsdWVzPC9saT4KPC91bD4KCjxoND5JbXBvcnRhbnQgTm90ZXM8L2g0Pgo8dWw+CiAgICA8bGk+TWlncmF0aW9uIGNhbm5vdCBiZSB1bmRvbmUgYXV0b21hdGljYWxseS4gQmFja3VwIHlvdXIgZGF0YSBiZWZvcmUgbWlncmF0aW9uLjwvbGk+CiAgICA8bGk+RmllbGQgdHlwZXMgYXJlIGF1dG9tYXRpY2FsbHkgbWFwcGVkIGZyb20gQ0dCbG9nIHRvIExJU0UgZm9ybWF0LjwvbGk+CiAgICA8bGk+Q2F0ZWdvcnkgaGllcmFyY2hpZXMgYXJlIHByZXNlcnZlZCBkdXJpbmcgbWlncmF0aW9uLjwvbGk+CiAgICA8bGk+QXJ0aWNsZSBVUkxzIGFuZCBtZXRhZGF0YSBhcmUgcHJlc2VydmVkLjwvbGk+CjwvdWw+CjwvZGl2PjxoMz5QYXJhbWV0ZXJzPC9oMz48dWw+PGxpPjxlbT4ob3B0aW9uYWwpPC9lbT4gYWN0aW9uPSJkZWZhdWx0YWRtaW4iIC0gQWN0aW9uIHRvIHBlcmZvcm08L2xpPjwvdWw+]]></help>
	<about><![CDATA[PGJyIC8+QXV0aG9yOiBtYXN0ZXIzMzk1ICZsdDtpbmZvQG5ld3N0YXJnZXRlZC5jb20mZ3Q7PGJyIC8+PGJyIC8+VmVyc2lvbjogMS4wLjE8YnIgLz48YnIgLz5DaGFuZ2UgSGlzdG9yeTo8YnIgLz48dWw+CjxsaT48c3Ryb25nPlZlcnNpb24gMS4wLjEsIDA2LjAxLjI2LCBtYXN0ZXIzMzk1PC9zdHJvbmc+OiBCdWcgZml4ZXMgYW5kIGltcHJvdmVtZW50cwogICAgPHVsPgogICAgICAgIDxsaT5GaXhlZCBkYXRhYmFzZSBjb2x1bW4gbmFtZXMgKGNyZWF0ZV90aW1lL21vZGlmaWVkX3RpbWUgaW5zdGVhZCBvZiBjcmVhdGVfZGF0ZS9tb2RpZmllZF9kYXRlKTwvbGk+CiAgICAgICAgPGxpPkZpeGVkIGNvbnRlbnQgc3RvcmFnZSAtIGFydGljbGUgY29udGVudCBhbmQgc3VtbWFyaWVzIG5vdyBjb3JyZWN0bHkgc3RvcmVkIGluIGZpZWxkdmFsIHRhYmxlPC9saT4KICAgICAgICA8bGk+QWRkZWQgYXV0b21hdGljIGNyZWF0aW9uIG9mIENvbnRlbnQgYW5kIFN1bW1hcnkgZmllbGQgZGVmaW5pdGlvbnM8L2xpPgogICAgICAgIDxsaT5GaXhlZCBmaWVsZCBkZWZpbml0aW9uIGluc2VydHMgdG8gdXNlIGNvcnJlY3QgTElTRSBzY2hlbWEgKG5hbWUsIGFsaWFzLCBoZWxwLCB0eXBlLCBwb3NpdGlvbiwgcmVxdWlyZWQsIHRlbXBsYXRlLCBleHRyYSk8L2xpPgogICAgICAgIDxsaT5SZW1vdmVkIGR1cGxpY2F0ZSBzdGF0aXN0aWNzIGRpc3BsYXkgaW4gbWlncmF0aW9uIGludGVyZmFjZTwvbGk+CiAgICAgICAgPGxpPkFkZGVkIHZpc2libGUgbGFiZWxzIGZvciByYWRpbyBidXR0b25zIGluIGluc3RhbmNlIHNlbGVjdGlvbjwvbGk+CiAgICAgICAgPGxpPlNwbGl0IE1pZ3JhdGlvbkVuZ2luZS5waHAgaW50byBzbWFsbGVyIG1vZHVsZXMgdG8gY29tcGx5IHdpdGggNTAwIGxpbmUgbGltaXQ8L2xpPgogICAgICAgIDxsaT5BZGRlZCBTdGFydCBNaWdyYXRpb24gYnV0dG9uIHRvIHByZXZpZXcgc2VjdGlvbjwvbGk+CiAgICAgICAgPGxpPkZpeGVkIGNhbGxiYWNrIGVycm9yIGZvciBsb2dnaW5nIGZ1bmN0aW9uYWxpdHk8L2xpPgogICAgPC91bD4KPC9saT4KPGxpPjxzdHJvbmc+VmVyc2lvbiAxLjAuMCwgMjAyNSwgbWFzdGVyMzM5NTwvc3Ryb25nPjogSW5pdGlhbCByZWxlYXNlCiAgICA8dWw+CiAgICAgICAgPGxpPk1pZ3JhdGUgYXJ0aWNsZXMgZnJvbSBDR0Jsb2cgdG8gTElTRTwvbGk+CiAgICAgICAgPGxpPk1pZ3JhdGUgY2F0ZWdvcmllcyB3aXRoIGhpZXJhcmNoeSBwcmVzZXJ2YXRpb248L2xpPgogICAgICAgIDxsaT5NaWdyYXRlIGN1c3RvbSBmaWVsZCBkZWZpbml0aW9ucyBhbmQgdmFsdWVzPC9saT4KICAgICAgICA8bGk+Q3JlYXRlIG5ldyBMSVNFIGluc3RhbmNlcyBvciB1c2UgZXhpc3Rpbmcgb25lczwvbGk+CiAgICAgICAgPGxpPlByZXZpZXcgbWlncmF0aW9uIGRhdGEgYmVmb3JlIGV4ZWN1dGluZzwvbGk+CiAgICAgICAgPGxpPkNvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmcgYW5kIGxvZ2dpbmc8L2xpPgogICAgPC91bD4KPC9saT4KPC91bD48YnIgLz4=]]></about>
	<description><![CDATA[Migrates data from CGBlog module to LISE instances. Supports creating new LISE instances or copying to existing ones.]]></description>
	<file>
	  <filename>/</filename>
	  <isdir>1</isdir>
	</file>
	<file>
	  <filename>/action.admin_settings_save.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIEFkbWluIFNldHRpbmdzIFNhdmUgQWN0aW9uIGZvciBNQVNfQ0dCbG9nVG9MSVNFCiAqIEJhc2VkIG9uIE1BU19EaXNxdXMgYW5kIE1BU19BSUFzc2lzdGFudCBwYXR0ZXJuCiAqLwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Ntc21zJykpIGV4aXQ7CgppZiAoISR0aGlzLT5WaXNpYmxlVG9BZG1pblVzZXIoKSkgewogICAgcmV0dXJuICR0aGlzLT5EaXNwbGF5RXJyb3JQYWdlKCRpZCwgJHBhcmFtcywgJHJldHVybmlkLCAkdGhpcy0+TGFuZygnYWNjZXNzZGVuaWVkJykpOwp9CgovLyBIYW5kbGUgYWRtaW4gc2VjdGlvbiBzZXR0aW5nCiRhZG1pbl9zZWN0aW9ucyA9IGFycmF5KAogICAgJ2V4dGVuc2lvbnMnID0+ICdFeHRlbnNpb25zJywKICAgICdjb250ZW50JyA9PiAnQ29udGVudCcsCiAgICAnc2l0ZWFkbWluJyA9PiAnU2l0ZSBBZG1pbicsCiAgICAndXNlcnNncm91cHMnID0+ICdVc2VyIE1hbmFnZW1lbnQnLAogICAgJ2xheW91dCcgPT4gJ0xheW91dCcKKTsKJGFkbWluX3NlY3Rpb24gPSBpc3NldCgkcGFyYW1zWydhZG1pbl9zZWN0aW9uJ10pID8gdHJpbSgkcGFyYW1zWydhZG1pbl9zZWN0aW9uJ10pIDogJ2V4dGVuc2lvbnMnOwppZiAoIWFycmF5X2tleV9leGlzdHMoJGFkbWluX3NlY3Rpb24sICRhZG1pbl9zZWN0aW9ucykpIHsKICAgICRhZG1pbl9zZWN0aW9uID0gJ2V4dGVuc2lvbnMnOwp9CiR0aGlzLT5TZXRQcmVmZXJlbmNlKE1BU19DR0Jsb2dUb0xJU0U6OlBSRUZfQURNSU5fU0VDVElPTiwgJGFkbWluX3NlY3Rpb24pOwoKLy8gSGFuZGxlIHNob3dpbmcgZG9uYXRpb25zIHRhYiBhZ2FpbgppZiAoaXNzZXQoJHBhcmFtc1sic2hvd2RvbmF0aW9uc3RhYiJdKSAmJiAkcGFyYW1zWyJzaG93ZG9uYXRpb25zdGFiIl0gPT0gIjEiKSB7CiAgICAvLyBSZW1vdmUgdGhlIHByZWZlcmVuY2UgdG8gc2hvdyB0aGUgZG9uYXRpb25zIHRhYiBhZ2FpbgogICAgJHRoaXMtPlJlbW92ZVByZWZlcmVuY2UoImhpZGVkb25hdGlvbnN0YWIiKTsKICAgICRtc2cgPSAkdGhpcy0+TGFuZygnc2V0dGluZ3N1cGRhdGVkJyk7Cn0gZWxzZSB7CiAgICAvLyBIaWRlIHRoZSBkb25hdGlvbnMgdGFiCiAgICAkdGhpcy0+U2V0UHJlZmVyZW5jZSgiaGlkZWRvbmF0aW9uc3RhYiIsICR0aGlzLT5HZXRWZXJzaW9uKCkpOwogICAgJG1zZyA9ICR0aGlzLT5MYW5nKCdzZXR0aW5nc3VwZGF0ZWQnKTsKfQoKLy8gcHV0IG1lbnRpb24gaW50byB0aGUgYWRtaW4gbG9nCiR0aGlzLT5BdWRpdCgwLCAKICAgICR0aGlzLT5MYW5nKCdmcmllbmRseW5hbWUnKSwgCiAgICAkdGhpcy0+TGFuZygncHJlZnN1cGRhdGVkJykpOwoKLy8gcmVkaXJlY3QgYmFjayB0byBhZG1pbiB3aXRoIG1lc3NhZ2UKJHRoaXMtPlJlZGlyZWN0KCRpZCwgJ2RlZmF1bHRhZG1pbicsICRyZXR1cm5pZCwgYXJyYXkoJ21zZycgPT4gJG1zZywgJ2FjdGl2ZXRhYicgPT4gJ2FkbWluc2V0dGluZ3MnKSk7Cgo/PgoK]]></data>
	</file>
	<file>
	  <filename>/action.defaultadmin.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIERlZmF1bHQgQWRtaW4gSW50ZXJmYWNlIGZvciBNQVNfQ0dCbG9nVG9MSVNFCiAqIENvbXBhdGlibGUgd2l0aCBQSFAgNy40LTguNgogKiBVc2VzIENNU01TIG5hdGl2ZSB0YWJzIGxpa2UgTUFTX0Rpc3F1cyBhbmQgTUFTX0FJQXNzaXN0YW50CiAqLwoKaWYgKCFpc3NldCgkZ0NtcykpIHsKICAgIGV4aXQ7Cn0KCmlmICghJHRoaXMtPlZpc2libGVUb0FkbWluVXNlcigpKSB7CiAgICBlY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPjxwIGNsYXNzPSJwYWdldGV4dCI+QWNjZXNzIGRlbmllZC4gUGxlYXNlIGNoZWNrIHlvdXIgcGVybWlzc2lvbnMuPC9wPjwvZGl2Pic7CiAgICByZXR1cm47Cn0KCi8vIEhhbmRsZSBoaWRpbmcgZG9uYXRpb25zIHRhYgppZiAoaXNzZXQoJHBhcmFtc1siaGlkZWRvbmF0aW9uc3N1Ym1pdCJdKSkgewogICAgJHRoaXMtPlNldFByZWZlcmVuY2UoImhpZGVkb25hdGlvbnN0YWIiLCAkdGhpcy0+R2V0VmVyc2lvbigpKTsKfQoKLy8gSGFuZGxlIHN1Y2Nlc3MvZXJyb3IgbWVzc2FnZXMKaWYgKCFlbXB0eSgkcGFyYW1zWydtc2cnXSkpIHsKICAgIGVjaG8gJHRoaXMtPlNob3dNZXNzYWdlKCR0aGlzLT5MYW5nKCRwYXJhbXNbJ21zZyddKSk7Cn0KCmlmICghZW1wdHkoJHBhcmFtc1snZXJyb3InXSkpIHsKICAgIGVjaG8gJHRoaXMtPlNob3dFcnJvcnMoYXJyYXkoJHRoaXMtPkxhbmcoJHBhcmFtc1snZXJyb3InXSkpKTsKfQoKLy8gR2V0IGN1cnJlbnQgdGFiCiRhY3RpdmV0YWIgPSBpc3NldCgkcGFyYW1zWyJhY3RpdmV0YWIiXSkgPyAkcGFyYW1zWyJhY3RpdmV0YWIiXSA6ICIiOwoKLy8gU3RhcnQgdGFicwplY2hvICR0aGlzLT5TdGFydFRhYkhlYWRlcnMoKTsKZWNobyAkdGhpcy0+U2V0VGFiSGVhZGVyKCJtaWdyYXRlIiwgJHRoaXMtPkxhbmcoJ3RhYl9taWdyYXRlJyksICgkYWN0aXZldGFiID09ICIiIHx8ICRhY3RpdmV0YWIgPT0gIm1pZ3JhdGUiKSk7CmVjaG8gJHRoaXMtPlNldFRhYkhlYWRlcigiYWRtaW5zZXR0aW5ncyIsICR0aGlzLT5MYW5nKCd0YWJfYWRtaW5zZXR0aW5ncycpLCAoJGFjdGl2ZXRhYiA9PSAiYWRtaW5zZXR0aW5ncyIpKTsKaWYgKCR0aGlzLT5TaG93RG9uYXRpb25zVGFiKCkpIHsKICAgIGVjaG8gJHRoaXMtPlNldFRhYkhlYWRlcigiZG9uYXRpb25zIiwgJHRoaXMtPkxhbmcoJ3RhYl9kb25hdGlvbnMnKSwgKCRhY3RpdmV0YWIgPT0gImRvbmF0aW9ucyIpKTsKfQplY2hvICR0aGlzLT5FbmRUYWJIZWFkZXJzKCk7CmVjaG8gJHRoaXMtPlN0YXJ0VGFiQ29udGVudCgpOwoKLy8gTWlncmF0aW9uIHRhYgplY2hvICR0aGlzLT5TdGFydFRhYigibWlncmF0ZSIpOwplY2hvICc8aDI+JyAuICR0aGlzLT5MYW5nKCdtaWdyYXRpb25fdGl0bGUnKSAuICc8L2gyPic7CmVjaG8gJzxwPicgLiAkdGhpcy0+TGFuZygnbWlncmF0aW9uX2Rlc2NyaXB0aW9uJykgLiAnPC9wPic7CgovLyBDaGVjayBwcmVyZXF1aXNpdGVzCmVjaG8gJzxoMz4nIC4gJHRoaXMtPkxhbmcoJ21pZ3JhdGlvbl9wcmVyZXF1aXNpdGVzJykgLiAnPC9oMz4nOwplY2hvICc8cD4nIC4gJHRoaXMtPkxhbmcoJ21pZ3JhdGlvbl9wcmVyZXF1aXNpdGVzX2Rlc2MnKSAuICc8L3A+JzsKZWNobyAnPHVsPic7CgokY2dibG9nX2F2YWlsYWJsZSA9ICR0aGlzLT5Jc0NHQmxvZ0F2YWlsYWJsZSgpOwokbGlzZV9hdmFpbGFibGUgPSAkdGhpcy0+SXNMSVNFQXZhaWxhYmxlKCk7CgplY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdtaWdyYXRpb25fcHJlcmVxdWlzaXRlc19jZ2Jsb2cnKSAuICc6ICc7CmVjaG8gJGNnYmxvZ19hdmFpbGFibGUgPyAnPHN0cm9uZyBzdHlsZT0iY29sb3I6IGdyZWVuOyI+4pyTIEluc3RhbGxlZDwvc3Ryb25nPicgOiAnPHN0cm9uZyBzdHlsZT0iY29sb3I6IHJlZDsiPuKclyBOb3QgSW5zdGFsbGVkPC9zdHJvbmc+JzsKZWNobyAnPC9saT4nOwoKZWNobyAnPGxpPicgLiAkdGhpcy0+TGFuZygnbWlncmF0aW9uX3ByZXJlcXVpc2l0ZXNfbGlzZScpIC4gJzogJzsKZWNobyAkbGlzZV9hdmFpbGFibGUgPyAnPHN0cm9uZyBzdHlsZT0iY29sb3I6IGdyZWVuOyI+4pyTIEluc3RhbGxlZDwvc3Ryb25nPicgOiAnPHN0cm9uZyBzdHlsZT0iY29sb3I6IHJlZDsiPuKclyBOb3QgSW5zdGFsbGVkPC9zdHJvbmc+JzsKZWNobyAnPC9saT4nOwoKJHN0YXRzID0gYXJyYXkoJ2FydGljbGVzJyA9PiAwLCAnY2F0ZWdvcmllcycgPT4gMCwgJ2ZpZWxkZGVmcycgPT4gMCwgJ2ZpZWxkdmFscycgPT4gMCk7CmlmICgkY2dibG9nX2F2YWlsYWJsZSkgewogICAgdHJ5IHsKICAgICAgICAkc3RhdHMgPSAkdGhpcy0+R2V0Q0dCbG9nU3RhdHMoKTsKICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgIC8vIFN0YXRzIGZhaWxlZCwgdXNlIGVtcHR5IGFycmF5CiAgICB9Cn0KJGhhc19kYXRhID0gKCRzdGF0c1snYXJ0aWNsZXMnXSA+IDAgfHwgJHN0YXRzWydjYXRlZ29yaWVzJ10gPiAwIHx8ICRzdGF0c1snZmllbGRkZWZzJ10gPiAwKTsKCmVjaG8gJzxsaT4nIC4gJHRoaXMtPkxhbmcoJ21pZ3JhdGlvbl9wcmVyZXF1aXNpdGVzX2RhdGEnKSAuICc6ICc7CmVjaG8gJGhhc19kYXRhID8gJzxzdHJvbmcgc3R5bGU9ImNvbG9yOiBncmVlbjsiPuKckyBEYXRhIEZvdW5kPC9zdHJvbmc+JyA6ICc8c3Ryb25nIHN0eWxlPSJjb2xvcjogcmVkOyI+4pyXIE5vIERhdGE8L3N0cm9uZz4nOwplY2hvICc8L2xpPic7CmVjaG8gJzwvdWw+JzsKCmlmICghJGNnYmxvZ19hdmFpbGFibGUgfHwgISRsaXNlX2F2YWlsYWJsZSkgewogICAgZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij48cCBjbGFzcz0icGFnZXRleHQiIHN0eWxlPSJjb2xvcjogcmVkOyI+UGxlYXNlIGluc3RhbGwgQ0dCbG9nIGFuZCBMSVNFIG1vZHVsZXMgYmVmb3JlIHVzaW5nIHRoaXMgbWlncmF0aW9uIHRvb2wuPC9wPjwvZGl2Pic7Cn0gZWxzZWlmICghJGhhc19kYXRhKSB7CiAgICBlY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPjxwIGNsYXNzPSJwYWdldGV4dCIgc3R5bGU9ImNvbG9yOiByZWQ7Ij5ObyBDR0Jsb2cgZGF0YSBmb3VuZCB0byBtaWdyYXRlLjwvcD48L2Rpdj4nOwp9IGVsc2UgewogICAgCiAgICAvLyBMb2FkIG1pZ3JhdGlvbiBmb3JtCiAgICB0cnkgewogICAgICAgICRmdW5jdGlvbl9maWxlID0gJHRoaXMtPkdldE1vZHVsZVBhdGgoKSAuICcvZnVuY3Rpb24uYWRtaW5fbWlncmF0ZXRhYi5waHAnOwogICAgICAgIGlmIChmaWxlX2V4aXN0cygkZnVuY3Rpb25fZmlsZSkpIHsKICAgICAgICAgICAgcmVxdWlyZV9vbmNlKCRmdW5jdGlvbl9maWxlKTsKICAgICAgICB9CiAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPjxwIGNsYXNzPSJwYWdldGV4dCIgc3R5bGU9ImNvbG9yOiByZWQ7Ij5FcnJvciBsb2FkaW5nIG1pZ3JhdGlvbiBpbnRlcmZhY2U6ICcgLiBodG1sc3BlY2lhbGNoYXJzKCRlLT5nZXRNZXNzYWdlKCkpIC4gJzwvcD48L2Rpdj4nOwogICAgfSBjYXRjaCAoRXJyb3IgJGUpIHsKICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPjxwIGNsYXNzPSJwYWdldGV4dCIgc3R5bGU9ImNvbG9yOiByZWQ7Ij5GYXRhbCBFcnJvcjogJyAuIGh0bWxzcGVjaWFsY2hhcnMoJGUtPmdldE1lc3NhZ2UoKSkgLiAnPC9wPjwvZGl2Pic7CiAgICB9Cn0KCmVjaG8gJHRoaXMtPkVuZFRhYigpOwoKLy8gQWRtaW4gU2V0dGluZ3MgdGFiCmVjaG8gJHRoaXMtPlN0YXJ0VGFiKCJhZG1pbnNldHRpbmdzIik7CmluY2x1ZGUoZGlybmFtZShfX0ZJTEVfXykgLiAiL2Z1bmN0aW9uLmFkbWluX3NldHRpbmdzLnBocCIpOwplY2hvICR0aGlzLT5FbmRUYWIoKTsKCi8vIERvbmF0aW9ucyB0YWIKaWYgKCR0aGlzLT5TaG93RG9uYXRpb25zVGFiKCkpIHsKICAgIGVjaG8gJHRoaXMtPlN0YXJ0VGFiKCJkb25hdGlvbnMiKTsKICAgIGluY2x1ZGUoZGlybmFtZShfX0ZJTEVfXykgLiAiL2Z1bmN0aW9uLmRvbmF0aW9ucy5waHAiKTsKICAgIGVjaG8gJHRoaXMtPkVuZFRhYigpOwp9CgplY2hvICR0aGlzLT5FbmRUYWJDb250ZW50KCk7Cj8+Cg==]]></data>
	</file>
	<file>
	  <filename>/function.admin_migratetab.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIE1pZ3JhdGlvbiBUYWIgRnVuY3Rpb24KICogTWFpbiBtaWdyYXRpb24gaW50ZXJmYWNlCiAqLwoKLy8gTm90ZTogVGhpcyBmaWxlIGlzIGluY2x1ZGVkIGZyb20gYWN0aW9uLmRlZmF1bHRhZG1pbi5waHAsIHNvIGNtc21zKCkgc2hvdWxkIGFscmVhZHkgYmUgYXZhaWxhYmxlCgovLyBGdW5jdGlvbiB0byBsb2FkIGNsYXNzZXMgb25seSB3aGVuIG5lZWRlZApmdW5jdGlvbiBsb2FkX21pZ3JhdGlvbl9jbGFzc2VzKCRtb2R1bGUpIHsKICAgIHN0YXRpYyAkY2xhc3Nlc19sb2FkZWQgPSBmYWxzZTsKICAgIGlmICgkY2xhc3Nlc19sb2FkZWQpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgdHJ5IHsKICAgICAgICAkbW9kdWxlX3BhdGggPSAkbW9kdWxlLT5HZXRNb2R1bGVQYXRoKCk7CiAgICAgICAgaWYgKCFpc19kaXIoJG1vZHVsZV9wYXRoIC4gJy9saWInKSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdMaWJyYXJ5IGRpcmVjdG9yeSBub3QgZm91bmQ6ICcgLiAkbW9kdWxlX3BhdGggLiAnL2xpYicpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAkdmFsaWRhdG9yX2ZpbGUgPSAkbW9kdWxlX3BhdGggLiAnL2xpYi9jbGFzcy5NaWdyYXRpb25WYWxpZGF0b3IucGhwJzsKICAgICAgICAkbWFwcGVyX2ZpbGUgPSAkbW9kdWxlX3BhdGggLiAnL2xpYi9jbGFzcy5EYXRhTWFwcGVyLnBocCc7CiAgICAgICAgJGVuZ2luZV9maWxlID0gJG1vZHVsZV9wYXRoIC4gJy9saWIvY2xhc3MuTWlncmF0aW9uRW5naW5lLnBocCc7CiAgICAgICAgCiAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkdmFsaWRhdG9yX2ZpbGUpKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1ZhbGlkYXRvciBjbGFzcyBub3QgZm91bmQ6ICcgLiAkdmFsaWRhdG9yX2ZpbGUpOwogICAgICAgIH0KICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRtYXBwZXJfZmlsZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignRGF0YU1hcHBlciBjbGFzcyBub3QgZm91bmQ6ICcgLiAkbWFwcGVyX2ZpbGUpOwogICAgICAgIH0KICAgICAgICBpZiAoIWZpbGVfZXhpc3RzKCRlbmdpbmVfZmlsZSkpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignTWlncmF0aW9uRW5naW5lIGNsYXNzIG5vdCBmb3VuZDogJyAuICRlbmdpbmVfZmlsZSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJlcXVpcmVfb25jZSgkdmFsaWRhdG9yX2ZpbGUpOwogICAgICAgIHJlcXVpcmVfb25jZSgkbWFwcGVyX2ZpbGUpOwogICAgICAgIHJlcXVpcmVfb25jZSgkZW5naW5lX2ZpbGUpOwogICAgICAgIHJlcXVpcmVfb25jZSgkbW9kdWxlX3BhdGggLiAnL2xpYi9jbGFzcy5NaWdyYXRpb25EYXRhSGFuZGxlci5waHAnKTsKICAgICAgICAkY2xhc3Nlc19sb2FkZWQgPSB0cnVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij48cCBjbGFzcz0icGFnZXRleHQiIHN0eWxlPSJjb2xvcjogcmVkOyI+RXJyb3IgbG9hZGluZyBjbGFzc2VzOiAnIC4gaHRtbHNwZWNpYWxjaGFycygkZS0+Z2V0TWVzc2FnZSgpKSAuICc8L3A+PC9kaXY+JzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGNhdGNoIChFcnJvciAkZSkgewogICAgICAgIGVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+PHAgY2xhc3M9InBhZ2V0ZXh0IiBzdHlsZT0iY29sb3I6IHJlZDsiPkZhdGFsIEVycm9yIGxvYWRpbmcgY2xhc3NlczogJyAuIGh0bWxzcGVjaWFsY2hhcnMoJGUtPmdldE1lc3NhZ2UoKSkgLiAnPC9wPjwvZGl2Pic7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQp9CgovLyBIYW5kbGUgcHJldmlldyByZXF1ZXN0CmlmIChpc3NldCgkcGFyYW1zWydwcmV2aWV3J10pKSB7CiAgICBpZiAoIWxvYWRfbWlncmF0aW9uX2NsYXNzZXMoJHRoaXMpKSB7CiAgICAgICAgcmV0dXJuOwogICAgfQogICAgdHJ5IHsKICAgICAgICAkdmFsaWRhdG9yID0gbmV3IE1pZ3JhdGlvblZhbGlkYXRvcigkdGhpcyk7CiAgICAgICAgJHZhbGlkYXRvci0+VmFsaWRhdGVQcmVyZXF1aXNpdGVzKCk7CiAgICAgICAgJGVycm9ycyA9ICR2YWxpZGF0b3ItPkdldEVycm9ycygpOwogICAgICAgIAogICAgICAgIGlmICghZW1wdHkoJGVycm9ycykpIHsKICAgICAgICAgICAgZWNobyAkdGhpcy0+U2hvd0Vycm9ycygkZXJyb3JzKTsKICAgICAgICAgICAgJHRoaXMtPkF1ZGl0KDAsICR0aGlzLT5MYW5nKCdmcmllbmRseW5hbWUnKSwgJ01pZ3JhdGlvbiBwcmV2aWV3IGZhaWxlZDogJyAuIGltcGxvZGUoJywgJywgJGVycm9ycykpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgICRzdGF0cyA9ICR0aGlzLT5HZXRDR0Jsb2dTdGF0cygpOwogICAgICAgIAogICAgICAgIC8vIExvZyBwcmV2aWV3IHRvIGFkbWluIGxvZwogICAgICAgICRwcmV2aWV3X21zZyA9IHNwcmludGYoCiAgICAgICAgICAgICdNaWdyYXRpb24gcHJldmlldzogJWQgYXJ0aWNsZXMsICVkIGNhdGVnb3JpZXMsICVkIGZpZWxkIGRlZmluaXRpb25zLCAlZCBmaWVsZCB2YWx1ZXMgcmVhZHkgZm9yIG1pZ3JhdGlvbicsCiAgICAgICAgICAgICRzdGF0c1snYXJ0aWNsZXMnXSwKICAgICAgICAgICAgJHN0YXRzWydjYXRlZ29yaWVzJ10sCiAgICAgICAgICAgICRzdGF0c1snZmllbGRkZWZzJ10sCiAgICAgICAgICAgICRzdGF0c1snZmllbGR2YWxzJ10KICAgICAgICApOwogICAgICAgICR0aGlzLT5BdWRpdCgwLCAkdGhpcy0+TGFuZygnZnJpZW5kbHluYW1lJyksICRwcmV2aWV3X21zZyk7CiAgICAgICAgCiAgICAgICAgZWNobyAnPGgyPicgLiAkdGhpcy0+TGFuZygncHJldmlld190aXRsZScpIC4gJzwvaDI+JzsKICAgICAgICBlY2hvICc8cD4nIC4gJHRoaXMtPkxhbmcoJ3ByZXZpZXdfZGVzY3JpcHRpb24nKSAuICc8L3A+JzsKICAgICAgICBlY2hvICc8dWw+JzsKICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdwcmV2aWV3X2FydGljbGVzX2NvdW50JywgJHN0YXRzWydhcnRpY2xlcyddKSAuICc8L2xpPic7CiAgICAgICAgZWNobyAnPGxpPicgLiAkdGhpcy0+TGFuZygncHJldmlld19jYXRlZ29yaWVzX2NvdW50JywgJHN0YXRzWydjYXRlZ29yaWVzJ10pIC4gJzwvbGk+JzsKICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdwcmV2aWV3X2ZpZWxkZGVmc19jb3VudCcsICRzdGF0c1snZmllbGRkZWZzJ10pIC4gJzwvbGk+JzsKICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdwcmV2aWV3X2ZpZWxkdmFsc19jb3VudCcsICRzdGF0c1snZmllbGR2YWxzJ10pIC4gJzwvbGk+JzsKICAgICAgICBlY2hvICc8L3VsPic7CiAgICAgICAgCiAgICAgICAgLy8gQ3JlYXRlIHByb3BlciBDYW5jZWwgbGluayBiYWNrIHRvIG1pZ3JhdGlvbiB0YWIgKGNsZWFycyBwcmV2aWV3IHBhcmFtZXRlcikKICAgICAgICAvLyBVc2UgQ3JlYXRlTGluayBkaXJlY3RseSAtIGl0IHdpbGwgaW5jbHVkZSBhbGwgbmVjZXNzYXJ5IHNlc3Npb24gdG9rZW5zCiAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij4nOwogICAgICAgIGVjaG8gJzxwIGNsYXNzPSJwYWdlaW5wdXQiPic7CiAgICAgICAgZWNobyAkdGhpcy0+Q3JlYXRlTGluaygkaWQsICdkZWZhdWx0YWRtaW4nLCAkcmV0dXJuaWQsICR0aGlzLT5MYW5nKCdtaWdyYXRlX2NhbmNlbCcpLCBhcnJheSgnYWN0aXZldGFiJyA9PiAnbWlncmF0ZScpLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJycsICcnLCAnJywgJ2NsYXNzPSJjbXNfYnV0dG9ubGluayInKTsKICAgICAgICBlY2hvICcgJzsKICAgICAgICAvLyBBZGQgZm9ybSB3aXRoIGhpZGRlbiBmaWVsZHMgdG8gcHJlc2VydmUgbWlncmF0aW9uIHNldHRpbmdzIGFuZCBzdGFydCBtaWdyYXRpb24gYnV0dG9uCiAgICAgICAgZWNobyAnPGZvcm0gbWV0aG9kPSJwb3N0IiBhY3Rpb249IicgLiAkdGhpcy0+Q3JlYXRlTGluaygkaWQsICdkZWZhdWx0YWRtaW4nLCAkcmV0dXJuaWQsICcnLCBhcnJheSgnYWN0aXZldGFiJyA9PiAnbWlncmF0ZScpLCAnJywgdHJ1ZSkgLiAnIiBzdHlsZT0iZGlzcGxheTogaW5saW5lOyI+JzsKICAgICAgICAvLyBQcmVzZXJ2ZSBtaWdyYXRpb24gcGFyYW1ldGVycyBmcm9tIHJlcXVlc3QKICAgICAgICBpZiAoaXNzZXQoJHBhcmFtc1sndXNlX2V4aXN0aW5nJ10pKSB7CiAgICAgICAgICAgIGVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Im0xX3VzZV9leGlzdGluZyIgdmFsdWU9IicgLiBodG1sc3BlY2lhbGNoYXJzKCRwYXJhbXNbJ3VzZV9leGlzdGluZyddKSAuICciIC8+JzsKICAgICAgICB9CiAgICAgICAgaWYgKGlzc2V0KCRwYXJhbXNbJ2luc3RhbmNlX25hbWUnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfaW5zdGFuY2VfbmFtZSIgdmFsdWU9IicgLiBodG1sc3BlY2lhbGNoYXJzKCRwYXJhbXNbJ2luc3RhbmNlX25hbWUnXSkgLiAnIiAvPic7CiAgICAgICAgfQogICAgICAgIGlmIChpc3NldCgkcGFyYW1zWydpbnN0YW5jZV9mcmllbmRseW5hbWUnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfaW5zdGFuY2VfZnJpZW5kbHluYW1lIiB2YWx1ZT0iJyAuIGh0bWxzcGVjaWFsY2hhcnMoJHBhcmFtc1snaW5zdGFuY2VfZnJpZW5kbHluYW1lJ10pIC4gJyIgLz4nOwogICAgICAgIH0KICAgICAgICBpZiAoaXNzZXQoJHBhcmFtc1snZXhpc3RpbmdfaW5zdGFuY2VfaWQnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfZXhpc3RpbmdfaW5zdGFuY2VfaWQiIHZhbHVlPSInIC4gaHRtbHNwZWNpYWxjaGFycygkcGFyYW1zWydleGlzdGluZ19pbnN0YW5jZV9pZCddKSAuICciIC8+JzsKICAgICAgICB9CiAgICAgICAgaWYgKGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfYXJ0aWNsZXMnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfbWlncmF0ZV9hcnRpY2xlcyIgdmFsdWU9IicgLiBodG1sc3BlY2lhbGNoYXJzKCRwYXJhbXNbJ21pZ3JhdGVfYXJ0aWNsZXMnXSkgLiAnIiAvPic7CiAgICAgICAgfQogICAgICAgIGlmIChpc3NldCgkcGFyYW1zWydtaWdyYXRlX2NhdGVnb3JpZXMnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfbWlncmF0ZV9jYXRlZ29yaWVzIiB2YWx1ZT0iJyAuIGh0bWxzcGVjaWFsY2hhcnMoJHBhcmFtc1snbWlncmF0ZV9jYXRlZ29yaWVzJ10pIC4gJyIgLz4nOwogICAgICAgIH0KICAgICAgICBpZiAoaXNzZXQoJHBhcmFtc1snbWlncmF0ZV9maWVsZGRlZnMnXSkpIHsKICAgICAgICAgICAgZWNobyAnPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0ibTFfbWlncmF0ZV9maWVsZGRlZnMiIHZhbHVlPSInIC4gaHRtbHNwZWNpYWxjaGFycygkcGFyYW1zWydtaWdyYXRlX2ZpZWxkZGVmcyddKSAuICciIC8+JzsKICAgICAgICB9CiAgICAgICAgaWYgKGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfZmllbGR2YWxzJ10pKSB7CiAgICAgICAgICAgIGVjaG8gJzxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9Im0xX21pZ3JhdGVfZmllbGR2YWxzIiB2YWx1ZT0iJyAuIGh0bWxzcGVjaWFsY2hhcnMoJHBhcmFtc1snbWlncmF0ZV9maWVsZHZhbHMnXSkgLiAnIiAvPic7CiAgICAgICAgfQogICAgICAgIGVjaG8gJHRoaXMtPkNyZWF0ZUlucHV0U3VibWl0KCRpZCwgJ21pZ3JhdGUnLCAkdGhpcy0+TGFuZygnbWlncmF0ZV9idXR0b24nKSk7CiAgICAgICAgZWNobyAnPC9mb3JtPic7CiAgICAgICAgZWNobyAnPC9wPic7CiAgICAgICAgZWNobyAnPC9kaXY+JzsKICAgICAgICByZXR1cm47CiAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICBlY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPjxwIGNsYXNzPSJwYWdldGV4dCIgc3R5bGU9ImNvbG9yOiByZWQ7Ij5FcnJvcjogJyAuIGh0bWxzcGVjaWFsY2hhcnMoJGUtPmdldE1lc3NhZ2UoKSkgLiAnPC9wPjwvZGl2Pic7CiAgICAgICAgcmV0dXJuOwogICAgfQp9CgovLyBIYW5kbGUgbWlncmF0aW9uIGV4ZWN1dGlvbgppZiAoaXNzZXQoJHBhcmFtc1snbWlncmF0ZSddKSkgewogICAgaWYgKCFsb2FkX21pZ3JhdGlvbl9jbGFzc2VzKCR0aGlzKSkgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIHRyeSB7CiAgICAgICAgJGVuZ2luZSA9IG5ldyBNaWdyYXRpb25FbmdpbmUoJHRoaXMpOwogICAgICAgICRlbmdpbmUtPlNldFBhcmFtZXRlcnMoJHBhcmFtcyk7CiAgICAgICAgCiAgICAgICAgJHJlc3VsdCA9ICRlbmdpbmUtPkV4ZWN1dGUoKTsKICAgICAgICAKICAgICAgICBpZiAoJHJlc3VsdCkgewogICAgICAgICAgICAkcmVzdWx0cyA9ICRlbmdpbmUtPkdldFJlc3VsdHMoKTsKICAgICAgICAgICAgJHdhcm5pbmdzID0gJGVuZ2luZS0+R2V0V2FybmluZ3MoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGVjaG8gJzxoMj4nIC4gJHRoaXMtPkxhbmcoJ3Jlc3VsdHNfdGl0bGUnKSAuICc8L2gyPic7CiAgICAgICAgICAgIGVjaG8gJzx1bD4nOwogICAgICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdyZXN1bHRzX2FydGljbGVzX21pZ3JhdGVkJywgJHJlc3VsdHNbJ2FydGljbGVzJ10pIC4gJzwvbGk+JzsKICAgICAgICAgICAgZWNobyAnPGxpPicgLiAkdGhpcy0+TGFuZygncmVzdWx0c19jYXRlZ29yaWVzX21pZ3JhdGVkJywgJHJlc3VsdHNbJ2NhdGVnb3JpZXMnXSkgLiAnPC9saT4nOwogICAgICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdyZXN1bHRzX2ZpZWxkZGVmc19taWdyYXRlZCcsICRyZXN1bHRzWydmaWVsZGRlZnMnXSkgLiAnPC9saT4nOwogICAgICAgICAgICBlY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdyZXN1bHRzX2ZpZWxkdmFsc19taWdyYXRlZCcsICRyZXN1bHRzWydmaWVsZHZhbHMnXSkgLiAnPC9saT4nOwogICAgICAgICAgICBlY2hvICc8L3VsPic7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIWVtcHR5KCR3YXJuaW5ncykpIHsKICAgICAgICAgICAgICAgIGVjaG8gJzxoMz4nIC4gJHRoaXMtPkxhbmcoJ3Jlc3VsdHNfd2FybmluZ3MnLCBjb3VudCgkd2FybmluZ3MpKSAuICc8L2gzPic7CiAgICAgICAgICAgICAgICBlY2hvICc8dWw+JzsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCR3YXJuaW5ncyBhcyAkd2FybmluZykgewogICAgICAgICAgICAgICAgICAgIGVjaG8gJzxsaT4nIC4gaHRtbHNwZWNpYWxjaGFycygkd2FybmluZykgLiAnPC9saT4nOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgZWNobyAnPC91bD4nOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBdWRpdCBsb2cgaXMgYWxyZWFkeSBkb25lIGJ5IE1pZ3JhdGlvbkVuZ2luZQogICAgICAgICAgICAkdGhpcy0+UmVkaXJlY3QoJGlkLCAnZGVmYXVsdGFkbWluJywgJHJldHVybmlkLCBhcnJheSgnYWN0aXZldGFiJyA9PiAnbWlncmF0ZScsICdtc2cnID0+ICdtaWdyYXRpb25fY29tcGxldGVkJykpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGVycm9ycyA9ICRlbmdpbmUtPkdldEVycm9ycygpOwogICAgICAgICAgICBlY2hvICR0aGlzLT5TaG93RXJyb3JzKCRlcnJvcnMpOwogICAgICAgICAgICAvLyBBdWRpdCBsb2cgaXMgYWxyZWFkeSBkb25lIGJ5IE1pZ3JhdGlvbkVuZ2luZQogICAgICAgIH0KICAgICAgICAKICAgICAgICBlY2hvICc8cD4nIC4gJHRoaXMtPkNyZWF0ZUxpbmsoJGlkLCAnZGVmYXVsdGFkbWluJywgJHJldHVybmlkLCAkdGhpcy0+TGFuZygnbWlncmF0ZV9jYW5jZWwnKSwgYXJyYXkoJ2FjdGl2ZXRhYicgPT4gJ21pZ3JhdGUnKSkgLiAnPC9wPic7CiAgICAgICAgcmV0dXJuOwogICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij48cCBjbGFzcz0icGFnZXRleHQiIHN0eWxlPSJjb2xvcjogcmVkOyI+RXJyb3IgZHVyaW5nIG1pZ3JhdGlvbjogJyAuIGh0bWxzcGVjaWFsY2hhcnMoJGUtPmdldE1lc3NhZ2UoKSkgLiAnPC9wPjwvZGl2Pic7CiAgICAgICAgZWNobyAnPHA+JyAuICR0aGlzLT5DcmVhdGVMaW5rKCRpZCwgJ2RlZmF1bHRhZG1pbicsICRyZXR1cm5pZCwgJHRoaXMtPkxhbmcoJ21pZ3JhdGVfY2FuY2VsJyksIGFycmF5KCdhY3RpdmV0YWInID0+ICdtaWdyYXRlJykpIC4gJzwvcD4nOwogICAgICAgIHJldHVybjsKICAgIH0KfQoKLy8gTWFpbiBtaWdyYXRpb24gZm9ybSAtIERPIE5PVCBsb2FkIGNsYXNzZXMgaGVyZSwgb25seSBzaG93IHRoZSBmb3JtCi8vIEdldCBzdGF0cyB3aXRob3V0IGxvYWRpbmcgY2xhc3Nlcwp0cnkgewogICAgJHN0YXRzID0gJHRoaXMtPkdldENHQmxvZ1N0YXRzKCk7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgJHN0YXRzID0gYXJyYXkoJ2FydGljbGVzJyA9PiAwLCAnY2F0ZWdvcmllcycgPT4gMCwgJ2ZpZWxkZGVmcycgPT4gMCwgJ2ZpZWxkdmFscycgPT4gMCk7Cn0gY2F0Y2ggKEVycm9yICRlKSB7CiAgICAkc3RhdHMgPSBhcnJheSgnYXJ0aWNsZXMnID0+IDAsICdjYXRlZ29yaWVzJyA9PiAwLCAnZmllbGRkZWZzJyA9PiAwLCAnZmllbGR2YWxzJyA9PiAwKTsKfQoKdHJ5IHsKICAgICRsaXNlX2luc3RhbmNlcyA9ICR0aGlzLT5HZXRMSVNFSW5zdGFuY2VzKCk7Cn0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgJGxpc2VfaW5zdGFuY2VzID0gYXJyYXkoKTsKfSBjYXRjaCAoRXJyb3IgJGUpIHsKICAgICRsaXNlX2luc3RhbmNlcyA9IGFycmF5KCk7Cn0KCi8vIERlZmF1bHQgdmFsdWVzCiRpbnN0YW5jZV9uYW1lID0gaXNzZXQoJHBhcmFtc1snaW5zdGFuY2VfbmFtZSddKSA/ICRwYXJhbXNbJ2luc3RhbmNlX25hbWUnXSA6ICcnOwokaW5zdGFuY2VfZnJpZW5kbHluYW1lID0gaXNzZXQoJHBhcmFtc1snaW5zdGFuY2VfZnJpZW5kbHluYW1lJ10pID8gJHBhcmFtc1snaW5zdGFuY2VfZnJpZW5kbHluYW1lJ10gOiAnJzsKJHVzZV9leGlzdGluZyA9IGlzc2V0KCRwYXJhbXNbJ3VzZV9leGlzdGluZyddKSA/IChpbnQpJHBhcmFtc1sndXNlX2V4aXN0aW5nJ10gOiAwOwokZXhpc3RpbmdfaW5zdGFuY2VfaWQgPSBpc3NldCgkcGFyYW1zWydleGlzdGluZ19pbnN0YW5jZV9pZCddKSA/IChpbnQpJHBhcmFtc1snZXhpc3RpbmdfaW5zdGFuY2VfaWQnXSA6IDA7CiRtaWdyYXRlX2FydGljbGVzID0gaXNzZXQoJHBhcmFtc1snbWlncmF0ZV9hcnRpY2xlcyddKSA/IChpbnQpJHBhcmFtc1snbWlncmF0ZV9hcnRpY2xlcyddIDogMTsKJG1pZ3JhdGVfY2F0ZWdvcmllcyA9IGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfY2F0ZWdvcmllcyddKSA/IChpbnQpJHBhcmFtc1snbWlncmF0ZV9jYXRlZ29yaWVzJ10gOiAxOwokbWlncmF0ZV9maWVsZGRlZnMgPSBpc3NldCgkcGFyYW1zWydtaWdyYXRlX2ZpZWxkZGVmcyddKSA/IChpbnQpJHBhcmFtc1snbWlncmF0ZV9maWVsZGRlZnMnXSA6IDE7CiRtaWdyYXRlX2ZpZWxkdmFscyA9IGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfZmllbGR2YWxzJ10pID8gKGludCkkcGFyYW1zWydtaWdyYXRlX2ZpZWxkdmFscyddIDogMTsKCi8vIFN0YXRpc3RpY3MKZWNobyAnPGgzPicgLiAkdGhpcy0+TGFuZygnc3RhdGlzdGljc190aXRsZScpIC4gJzwvaDM+JzsKZWNobyAnPHVsPic7CmVjaG8gJzxsaT4nIC4gJHRoaXMtPkxhbmcoJ3N0YXRpc3RpY3NfYXJ0aWNsZXMnKSAuICc6ICcgLiAkc3RhdHNbJ2FydGljbGVzJ10gLiAnPC9saT4nOwplY2hvICc8bGk+JyAuICR0aGlzLT5MYW5nKCdzdGF0aXN0aWNzX2NhdGVnb3JpZXMnKSAuICc6ICcgLiAkc3RhdHNbJ2NhdGVnb3JpZXMnXSAuICc8L2xpPic7CmVjaG8gJzxsaT4nIC4gJHRoaXMtPkxhbmcoJ3N0YXRpc3RpY3NfZmllbGRkZWZzJykgLiAnOiAnIC4gJHN0YXRzWydmaWVsZGRlZnMnXSAuICc8L2xpPic7CmVjaG8gJzxsaT4nIC4gJHRoaXMtPkxhbmcoJ3N0YXRpc3RpY3NfZmllbGR2YWxzJykgLiAnOiAnIC4gJHN0YXRzWydmaWVsZHZhbHMnXSAuICc8L2xpPic7CmVjaG8gJzwvdWw+JzsKCi8vIE1pZ3JhdGlvbiBmb3JtCmVjaG8gJHRoaXMtPkNyZWF0ZUZvcm1TdGFydCgkaWQsICdkZWZhdWx0YWRtaW4nLCAkcmV0dXJuaWQsICdwb3N0JywgJycsIGZhbHNlLCAnJywgYXJyYXkoJ2FjdGl2ZXRhYicgPT4gJ21pZ3JhdGUnKSk7CgovLyBJbnN0YW5jZSBzZWxlY3Rpb24KZWNobyAnPGgzPicgLiAkdGhpcy0+TGFuZygnaW5zdGFuY2Vfc2VsZWN0aW9uJykgLiAnPC9oMz4nOwoKZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij4nOwplY2hvICc8cCBjbGFzcz0icGFnZXRleHQiPjxsYWJlbD4nOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dFJhZGlvKCRpZCwgJ3VzZV9leGlzdGluZycsIDAsICR1c2VfZXhpc3RpbmcgPT0gMCwgJ29uY2xpY2s9InRvZ2dsZUluc3RhbmNlT3B0aW9ucygpIicpOwplY2hvICcgJyAuICR0aGlzLT5MYW5nKCdpbnN0YW5jZV9jcmVhdGVfbmV3Jyk7CmVjaG8gJzwvbGFiZWw+PC9wPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdlaW5wdXQiPiZuYnNwOzwvcD4nOwplY2hvICc8L2Rpdj4nOwoKZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij4nOwplY2hvICc8cCBjbGFzcz0icGFnZXRleHQiPjxsYWJlbD4nOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dFJhZGlvKCRpZCwgJ3VzZV9leGlzdGluZycsIDEsICR1c2VfZXhpc3RpbmcgPT0gMSwgJ29uY2xpY2s9InRvZ2dsZUluc3RhbmNlT3B0aW9ucygpIicpOwplY2hvICcgJyAuICR0aGlzLT5MYW5nKCdpbnN0YW5jZV91c2VfZXhpc3RpbmcnKTsKZWNobyAnPC9sYWJlbD48L3A+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2VpbnB1dCI+Jm5ic3A7PC9wPic7CmVjaG8gJzwvZGl2Pic7CgovLyBOZXcgaW5zdGFuY2Ugb3B0aW9ucwplY2hvICc8ZGl2IGlkPSJuZXdfaW5zdGFuY2Vfb3B0aW9ucyIgc3R5bGU9ImRpc3BsYXk6ICcgLiAoJHVzZV9leGlzdGluZyA9PSAwID8gJ2Jsb2NrJyA6ICdub25lJykgLiAnOyI+JzsKZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij4nOwplY2hvICc8cCBjbGFzcz0icGFnZXRleHQiPicgLiAkdGhpcy0+TGFuZygnaW5zdGFuY2VfbmFtZScpIC4gJyA8c3Ryb25nPihvcHRpb25hbCk8L3N0cm9uZz46PC9wPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdlaW5wdXQiPic7CmVjaG8gJHRoaXMtPkNyZWF0ZUlucHV0VGV4dCgkaWQsICdpbnN0YW5jZV9uYW1lJywgJGluc3RhbmNlX25hbWUsIDQwLCAyNTUsICcnLCAnaWQ9Imluc3RhbmNlX25hbWVfZmllbGQiIHBsYWNlaG9sZGVyPSJMZWF2ZSBlbXB0eSBmb3IgYXV0by1nZW5lcmF0ZWQgbmFtZSInKTsKZWNobyAnPGJyPjxlbT4nIC4gJHRoaXMtPkxhbmcoJ2luc3RhbmNlX25hbWVfaGVscCcpIC4gJzwvZW0+JzsKZWNobyAnPC9wPic7CmVjaG8gJzwvZGl2Pic7CgplY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdldGV4dCI+JyAuICR0aGlzLT5MYW5nKCdpbnN0YW5jZV9mcmllbmRseW5hbWUnKSAuICcgPHN0cm9uZz4ob3B0aW9uYWwpPC9zdHJvbmc+OjwvcD4nOwplY2hvICc8cCBjbGFzcz0icGFnZWlucHV0Ij4nOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dFRleHQoJGlkLCAnaW5zdGFuY2VfZnJpZW5kbHluYW1lJywgJGluc3RhbmNlX2ZyaWVuZGx5bmFtZSwgNDAsIDI1NSwgJycsICdpZD0iaW5zdGFuY2VfZnJpZW5kbHluYW1lX2ZpZWxkIiBwbGFjZWhvbGRlcj0iTGVhdmUgZW1wdHkgZm9yIGF1dG8tZ2VuZXJhdGVkIG5hbWUiJyk7CmVjaG8gJzxicj48ZW0+JyAuICR0aGlzLT5MYW5nKCdpbnN0YW5jZV9mcmllbmRseW5hbWVfaGVscCcpIC4gJzwvZW0+JzsKZWNobyAnPC9wPic7CmVjaG8gJzwvZGl2Pic7CmVjaG8gJzwvZGl2Pic7CgovLyBFeGlzdGluZyBpbnN0YW5jZSBvcHRpb25zCmVjaG8gJzxkaXYgaWQ9ImV4aXN0aW5nX2luc3RhbmNlX29wdGlvbnMiIHN0eWxlPSJkaXNwbGF5OiAnIC4gKCR1c2VfZXhpc3RpbmcgPT0gMSA/ICdibG9jaycgOiAnbm9uZScpIC4gJzsiPic7CmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2luc3RhbmNlX3NlbGVjdCcpIC4gJzo8L3A+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2VpbnB1dCI+JzsKaWYgKGVtcHR5KCRsaXNlX2luc3RhbmNlcykpIHsKICAgIGVjaG8gJzxwPicgLiAkdGhpcy0+TGFuZygnaW5zdGFuY2Vfbm9uZScpIC4gJzwvcD4nOwp9IGVsc2UgewogICAgJG9wdGlvbnMgPSBhcnJheSgpOwogICAgZm9yZWFjaCAoJGxpc2VfaW5zdGFuY2VzIGFzICRpbnN0KSB7CiAgICAgICAgJGRpc3BsYXlfbmFtZSA9ICRpbnN0LT5tb2R1bGVfbmFtZTsKICAgICAgICBpZiAobWV0aG9kX2V4aXN0cygkaW5zdCwgJ0dldEZyaWVuZGx5TmFtZScpKSB7CiAgICAgICAgICAgICRkaXNwbGF5X25hbWUgPSAkaW5zdC0+R2V0RnJpZW5kbHlOYW1lKCk7CiAgICAgICAgfQogICAgICAgICRvcHRpb25zWyRpbnN0LT5tb2R1bGVfaWRdID0gJGRpc3BsYXlfbmFtZTsKICAgIH0KICAgIGVjaG8gJHRoaXMtPkNyZWF0ZUlucHV0RHJvcGRvd24oJGlkLCAnZXhpc3RpbmdfaW5zdGFuY2VfaWQnLCAkb3B0aW9ucywgLTEsICRleGlzdGluZ19pbnN0YW5jZV9pZCk7CiAgICBlY2hvICc8YnI+PGVtPicgLiAkdGhpcy0+TGFuZygnaW5zdGFuY2Vfc2VsZWN0X2hlbHAnKSAuICc8L2VtPic7Cn0KZWNobyAnPC9wPic7CmVjaG8gJzwvZGl2Pic7CmVjaG8gJzwvZGl2Pic7CgovLyBEYXRhIHNlbGVjdGlvbgplY2hvICc8aDM+JyAuICR0aGlzLT5MYW5nKCdkYXRhX3NlbGVjdGlvbicpIC4gJzwvaDM+JzsKCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2RhdGFfbWlncmF0ZV9hcnRpY2xlcycpIC4gJzo8L3A+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2VpbnB1dCI+JzsKZWNobyAkdGhpcy0+Q3JlYXRlSW5wdXRDaGVja2JveCgkaWQsICdtaWdyYXRlX2FydGljbGVzJywgMSwgJG1pZ3JhdGVfYXJ0aWNsZXMpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2RhdGFfbWlncmF0ZV9jYXRlZ29yaWVzJykgLiAnOjwvcD4nOwplY2hvICc8cCBjbGFzcz0icGFnZWlucHV0Ij4nOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dENoZWNrYm94KCRpZCwgJ21pZ3JhdGVfY2F0ZWdvcmllcycsIDEsICRtaWdyYXRlX2NhdGVnb3JpZXMpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2RhdGFfbWlncmF0ZV9maWVsZGRlZnMnKSAuICc6PC9wPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdlaW5wdXQiPic7CmVjaG8gJHRoaXMtPkNyZWF0ZUlucHV0Q2hlY2tib3goJGlkLCAnbWlncmF0ZV9maWVsZGRlZnMnLCAxLCAkbWlncmF0ZV9maWVsZGRlZnMpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2RhdGFfbWlncmF0ZV9maWVsZHZhbHMnKSAuICc6PC9wPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdlaW5wdXQiPic7CmVjaG8gJHRoaXMtPkNyZWF0ZUlucHV0Q2hlY2tib3goJGlkLCAnbWlncmF0ZV9maWVsZHZhbHMnLCAxLCAkbWlncmF0ZV9maWVsZHZhbHMpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCi8vIEFjdGlvbiBidXR0b25zCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4mbmJzcDs8L3A+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2VpbnB1dCI+JzsKZWNobyAkdGhpcy0+Q3JlYXRlSW5wdXRTdWJtaXQoJGlkLCAncHJldmlldycsICR0aGlzLT5MYW5nKCdtaWdyYXRlX3ByZXZpZXcnKSk7CmVjaG8gJyAnOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dFN1Ym1pdCgkaWQsICdtaWdyYXRlJywgJHRoaXMtPkxhbmcoJ21pZ3JhdGVfYnV0dG9uJykpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCi8vIEFkZCBjb25maXJtYXRpb24gSmF2YVNjcmlwdAplY2hvICc8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLCBmdW5jdGlvbigpIHsKICAgIHZhciBtaWdyYXRlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1cJ20xX21pZ3JhdGVcJ10iKTsKICAgIGlmIChtaWdyYXRlQnRuKSB7CiAgICAgICAgbWlncmF0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICAgICAgaWYgKCFjb25maXJtKCInIC4gYWRkc2xhc2hlcygkdGhpcy0+TGFuZygnbWlncmF0ZV9jb25maXJtJykpIC4gJyIpKSB7CiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0KfSk7Cjwvc2NyaXB0Pic7CgplY2hvICR0aGlzLT5DcmVhdGVGb3JtRW5kKCk7CgovLyBKYXZhU2NyaXB0IGZvciB0b2dnbGluZyBpbnN0YW5jZSBvcHRpb25zCmVjaG8gJzxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KZnVuY3Rpb24gdG9nZ2xlSW5zdGFuY2VPcHRpb25zKCkgewogICAgdmFyIHVzZUV4aXN0aW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiaW5wdXRbbmFtZT1cJ20xX3VzZV9leGlzdGluZ1wnXVt2YWx1ZT1cJzFcJ10iKS5jaGVja2VkOwogICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm5ld19pbnN0YW5jZV9vcHRpb25zIikuc3R5bGUuZGlzcGxheSA9IHVzZUV4aXN0aW5nID8gIm5vbmUiIDogImJsb2NrIjsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJleGlzdGluZ19pbnN0YW5jZV9vcHRpb25zIikuc3R5bGUuZGlzcGxheSA9IHVzZUV4aXN0aW5nID8gImJsb2NrIiA6ICJub25lIjsKfQo8L3NjcmlwdD4nOwoKPz4K]]></data>
	</file>
	<file>
	  <filename>/function.admin_settings.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIEFkbWluIFNldHRpbmdzIEZ1bmN0aW9uIGZvciBNQVNfQ0dCbG9nVG9MSVNFCiAqIEJhc2VkIG9uIE1BU19EaXNxdXMgYW5kIE1BU19BSUFzc2lzdGFudCBwYXR0ZXJuCiAqLwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Ntc21zJykpIGV4aXQ7CgppZiAoISR0aGlzLT5WaXNpYmxlVG9BZG1pblVzZXIoKSkgewogICAgcmV0dXJuOwp9CgovLyBDaGVjayBpZiBkb25hdGlvbnMgdGFiIGlzIGN1cnJlbnRseSBoaWRkZW4KJGRvbmF0aW9uc0hpZGRlbiA9ICgkdGhpcy0+R2V0UHJlZmVyZW5jZSgiaGlkZWRvbmF0aW9uc3RhYiIpID09ICR0aGlzLT5HZXRWZXJzaW9uKCkpOwoKZWNobyAnPGRpdiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCAjQ0NDOyBwYWRkaW5nOjEwcHg7IG1hcmdpbjoxMHB4IDA7Ij4nOwplY2hvICc8aDM+JyAuICR0aGlzLT5MYW5nKCd0YWJfYWRtaW5zZXR0aW5ncycpIC4gJzwvaDM+JzsKCmVjaG8gJHRoaXMtPkNyZWF0ZUZvcm1TdGFydCgkaWQsICJhZG1pbl9zZXR0aW5nc19zYXZlIiwgJHJldHVybmlkKTsKCi8vIEFkbWluIHBsYWNlbWVudCBzZWN0aW9uCiRhZG1pbl9zZWN0aW9ucyA9IGFycmF5KAogICAgJ2V4dGVuc2lvbnMnID0+ICdFeHRlbnNpb25zJywKICAgICdjb250ZW50JyA9PiAnQ29udGVudCcsCiAgICAnc2l0ZWFkbWluJyA9PiAnU2l0ZSBBZG1pbicsCiAgICAndXNlcnNncm91cHMnID0+ICdVc2VyIE1hbmFnZW1lbnQnLAogICAgJ2xheW91dCcgPT4gJ0xheW91dCcKKTsKJGN1cnJlbnRfYWRtaW5fc2VjdGlvbiA9ICR0aGlzLT5HZXRQcmVmZXJlbmNlKE1BU19DR0Jsb2dUb0xJU0U6OlBSRUZfQURNSU5fU0VDVElPTiwgJ2V4dGVuc2lvbnMnKTsKCmVjaG8gJzxkaXYgY2xhc3M9InBhZ2VvdmVyZmxvdyI+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2V0ZXh0Ij4nIC4gJHRoaXMtPkxhbmcoJ2FkbWluX3BsYWNlbWVudCcpIC4gJzo8L3A+JzsKZWNobyAnPHAgY2xhc3M9InBhZ2VpbnB1dCI+JzsKZWNobyAnPGxhYmVsPicgLiAkdGhpcy0+TGFuZygnYWRtaW5fc2VjdGlvbicpIC4gJzo8L2xhYmVsPjxici8+JzsKZWNobyAnPHNlbGVjdCBuYW1lPSInIC4gJGlkIC4gJ2FkbWluX3NlY3Rpb24iIHN0eWxlPSJtYXJnaW4tdG9wOiA1cHg7IG1pbi13aWR0aDogMjAwcHg7Ij4nOwpmb3JlYWNoICgkYWRtaW5fc2VjdGlvbnMgYXMgJGtleSA9PiAkbGFiZWwpIHsKICAgICRzZWxlY3RlZCA9ICgkY3VycmVudF9hZG1pbl9zZWN0aW9uID09ICRrZXkpID8gJyBzZWxlY3RlZD0ic2VsZWN0ZWQiJyA6ICcnOwogICAgZWNobyAnPG9wdGlvbiB2YWx1ZT0iJyAuIGh0bWxzcGVjaWFsY2hhcnMoJGtleSwgRU5UX1FVT1RFUywgJ1VURi04JykgLiAnIicgLiAkc2VsZWN0ZWQgLiAnPicgLiBodG1sc3BlY2lhbGNoYXJzKCRsYWJlbCwgRU5UX1FVT1RFUywgJ1VURi04JykgLiAnPC9vcHRpb24+JzsKfQplY2hvICc8L3NlbGVjdD4nOwplY2hvICc8YnIvPjxlbT4nIC4gJHRoaXMtPkxhbmcoJ2FkbWluX3NlY3Rpb25faGVscCcpIC4gJzwvZW0+JzsKZWNobyAnPC9wPic7CmVjaG8gJzwvZGl2Pic7CgplY2hvICc8ZGl2IGNsYXNzPSJwYWdlb3ZlcmZsb3ciPic7CmVjaG8gJzxwIGNsYXNzPSJwYWdldGV4dCI+JyAuICR0aGlzLT5MYW5nKCdzaG93ZG9uYXRpb25zdGFiJykgLiAnOjwvcD4nOwplY2hvICc8cCBjbGFzcz0icGFnZWlucHV0Ij4nOwplY2hvICc8bGFiZWwgZm9yPSJzaG93ZG9uYXRpb25zdGFiIj4nIC4gJHRoaXMtPkxhbmcoJ3Nob3dkb25hdGlvbnN0YWInKSAuICc8L2xhYmVsPjxici8+JzsKZWNobyAkdGhpcy0+Q3JlYXRlSW5wdXRDaGVja2JveCgkaWQsICJzaG93ZG9uYXRpb25zdGFiIiwgIjEiLCAhJGRvbmF0aW9uc0hpZGRlbik7CmVjaG8gJzwvcD4nOwplY2hvICc8L2Rpdj4nOwoKZWNobyAnPGRpdiBjbGFzcz0icGFnZW92ZXJmbG93Ij4nOwplY2hvICc8cCBjbGFzcz0icGFnZXRleHQiPiZuYnNwOzwvcD4nOwplY2hvICc8cCBjbGFzcz0icGFnZWlucHV0Ij4nOwplY2hvICR0aGlzLT5DcmVhdGVJbnB1dFN1Ym1pdCgkaWQsICJzdWJtaXQiLCAkdGhpcy0+TGFuZygic3VibWl0IikpOwplY2hvICc8L3A+JzsKZWNobyAnPC9kaXY+JzsKCmVjaG8gJHRoaXMtPkNyZWF0ZUZvcm1FbmQoKTsKCmVjaG8gJzwvZGl2Pic7Cj8+Cgo=]]></data>
	</file>
	<file>
	  <filename>/function.donations.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIERvbmF0aW9ucyBGdW5jdGlvbiBmb3IgTUFTX0NHQmxvZ1RvTElTRQogKiBCYXNlZCBvbiBNQVNfRGlzcXVzIGFuZCBNQVNfQUlBc3Npc3RhbnQgcGF0dGVybgogKi8KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdjbXNtcycpKSBleGl0OwoKaWYgKCEkdGhpcy0+VmlzaWJsZVRvQWRtaW5Vc2VyKCkpIHsKICAgIHJldHVybjsKfQoKLy8gR2V0IFNtYXJ0eSBpbnN0YW5jZQokc21hcnR5ID0gY21zbXMoKS0+R2V0U21hcnR5KCk7CgovLyBBc3NpZ24gdG8gU21hcnR5CiRzbWFydHktPmFzc2lnbignbW9kdWxlJywgJHRoaXMpOwokc21hcnR5LT5hc3NpZ24oJ2lkJywgJGlkKTsKJHNtYXJ0eS0+YXNzaWduKCdwYXJhbXMnLCAkcGFyYW1zKTsKJHNtYXJ0eS0+YXNzaWduKCdyZXR1cm5pZCcsICRyZXR1cm5pZCk7CiRzbWFydHktPmFzc2lnbigiZm9ybXN0YXJ0IiwgJHRoaXMtPkNyZWF0ZUZvcm1TdGFydCgkaWQsICJkZWZhdWx0YWRtaW4iLCAkcmV0dXJuaWQpKTsKJHNtYXJ0eS0+YXNzaWduKCJmb3JtZW5kIiwgJHRoaXMtPkNyZWF0ZUZvcm1FbmQoKSk7CiRzbWFydHktPmFzc2lnbigiaGlkZXN1Ym1pdCIsICR0aGlzLT5DcmVhdGVJbnB1dFN1Ym1pdCgkaWQsICJoaWRlZG9uYXRpb25zc3VibWl0IiwgJHRoaXMtPkxhbmcoImhpZGVkb25hdGlvbnNzdWJtaXQiKSkpOwokc21hcnR5LT5hc3NpZ24oImRvbmF0aW9uc3RleHQiLCAkdGhpcy0+TGFuZygiZG9uYXRpb25zdGV4dCIpKTsKJHNtYXJ0eS0+YXNzaWduKCJzcG9uc29yc3RleHQiLCAkdGhpcy0+TGFuZygic3BvbnNvcnMiKSk7CgovLyBEaXNwbGF5IHRlbXBsYXRlCmVjaG8gJHRoaXMtPlByb2Nlc3NUZW1wbGF0ZSgnZG9uYXRpb25zLnRwbCcpOwo/Pgo=]]></data>
	</file>
	<file>
	  <filename>/help.inc</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIEhlbHAgRmlsZSBmb3IgTUFTX0NHQmxvZ1RvTElTRSBNb2R1bGUKICovCgpyZXR1cm4gJHRoaXMtPkxhbmcoJ2hlbHAnKTsKCj8+Cgo=]]></data>
	</file>
	<file>
	  <filename>/index.html</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[]]></data>
	</file>
	<file>
	  <filename>/lang/</filename>
	  <isdir>1</isdir>
	</file>
	<file>
	  <filename>/lang/en_US.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIEVuZ2xpc2ggTGFuZ3VhZ2UgRmlsZSBmb3IgTUFTX0NHQmxvZ1RvTElTRSBNb2R1bGUKICovCgovLyBNb2R1bGUgaW5mbwokbGFuZ1snZnJpZW5kbHluYW1lJ10gPSAnTUFTIENHQmxvZyB0byBMSVNFIE1pZ3JhdGlvbic7CiRsYW5nWydtb2RkZXNjcmlwdGlvbiddID0gJ01pZ3JhdGVzIGRhdGEgZnJvbSBDR0Jsb2cgbW9kdWxlIHRvIExJU0UgaW5zdGFuY2VzLiBTdXBwb3J0cyBjcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZXMgb3IgY29weWluZyB0byBleGlzdGluZyBvbmVzLic7CiRsYW5nWydwb3N0aW5zdGFsbCddID0gJ01BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24gaGFzIGJlZW4gaW5zdGFsbGVkIHN1Y2Nlc3NmdWxseSEnOwokbGFuZ1sncG9zdHVuaW5zdGFsbCddID0gJ01BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24gaGFzIGJlZW4gdW5pbnN0YWxsZWQuJzsKJGxhbmdbJ3JlYWxseV91bmluc3RhbGwnXSA9ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gdW5pbnN0YWxsIE1BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24/JzsKJGxhbmdbJ2luc3RhbGxlZCddID0gJ01vZHVsZSB2ZXJzaW9uICVzIGluc3RhbGxlZCBzdWNjZXNzZnVsbHkuJzsKJGxhbmdbJ3VwZ3JhZGVkJ10gPSAnTW9kdWxlIHVwZ3JhZGVkIHRvIHZlcnNpb24gJXMuJzsKJGxhbmdbJ3VuaW5zdGFsbGVkJ10gPSAnTW9kdWxlIHVuaW5zdGFsbGVkLic7CgovLyBQZXJtaXNzaW9ucwokbGFuZ1snYWNjZXNzZGVuaWVkJ10gPSAnQWNjZXNzIGRlbmllZC4gUGxlYXNlIGNoZWNrIHlvdXIgcGVybWlzc2lvbnMuJzsKJGxhbmdbJ3Blcm1pc3Npb25fdXNlJ10gPSAnVXNlIE1BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24nOwoKLy8gVGFicwokbGFuZ1sndGFiX21pZ3JhdGUnXSA9ICdNaWdyYXRpb24nOwokbGFuZ1sndGFiX3NldHRpbmdzJ10gPSAnU2V0dGluZ3MnOwokbGFuZ1sndGFiX2RvbmF0aW9ucyddID0gJ0RvbmF0aW9ucyc7CiRsYW5nWyd0YWJfYWRtaW5zZXR0aW5ncyddID0gJ0FkbWluIFNldHRpbmdzJzsKJGxhbmdbJ2NvbmZpZ3VyYXRpb24nXSA9ICdDb25maWd1cmF0aW9uJzsKCi8vIFNldHRpbmdzCiRsYW5nWydwcm9tcHRfZnJpZW5kbHluYW1lJ10gPSAnTW9kdWxlIEZyaWVuZGx5IE5hbWUnOwokbGFuZ1snaW5mb19mcmllbmRseW5hbWUnXSA9ICdUaGlzIHNwZWNpZmllcyB0aGUgc3RyaW5nIHRoYXQgd2lsbCBiZSB1c2VkIGlkZW50aWZ5IHRoaXMgbW9kdWxlIGluIHRoZSBhZG1pbiBuYXZpZ2F0aW9uLiAgSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkLCB0aGVuIHRoZSBkZWZhdWx0IHZhbHVlIHdpbGwgYmUgdXNlZC4gIFlvdSBtYXkgaGF2ZSB0byBjbGVhciB0aGUgQ01TTVMgY2FjaGUgYWZ0ZXIgY2hhbmdpbmcgdGhpcyB2YWx1ZS4nOwokbGFuZ1snc2hvd19kb25hdGlvbnMnXSA9ICdTaG93IERvbmF0aW9ucyBUYWInOwokbGFuZ1snaGlkZWRvbmF0aW9uc3N1Ym1pdCddID0gJ0hpZGUgZG9uYXRpb25zIHRhYic7CiRsYW5nWydkb25hdGlvbnNfdGFiX2hpZGRlbiddID0gJ0RvbmF0aW9ucyB0YWIgaGFzIGJlZW4gaGlkZGVuLiBZb3UgY2FuIHNob3cgaXQgYWdhaW4gaW4gQWRtaW4gU2V0dGluZ3MuJzsKJGxhbmdbJ2RvbmF0aW9uc3RleHQnXSA9ICdBIGxvdCBvZiB0aW1lIGFuZCBlZmZvcnQgaGFzIGJlZW4gcHV0IGludG8gY3JlYXRpbmcgdGhpcyBtb2R1bGUuIFBsZWFzZSBjb25zaWRlciBhIHNtYWxsIGRvbmF0aW9uICg14oKsIGZvciBpbnN0YW5jZSwgb3Igd2hhdCB5b3UgY2FuIHNwYXJlKSB1c2luZyB0aGUgUGF5UGFsLWJ1dHRvbiBiZWxvdywgZXNwZWNpYWxseSBpZiB5b3UgdXNlIHRoaXMgbW9kdWxlIGluIGEgY29tbWVyY2lhbCBjb250ZXh0LiBJZiB5b3UgZG9uYXRlIG1vcmUgdGhhbiAzMOKCrCB5b3UgY2FuIGhhdmUgYSBsaW5rIHRvIHlvdXIgY29tcGFueSBvbiB0aGlzIHBhZ2UsIGlmIHlvdSB3aXNoIHRvLiBTZW5kIG1lIGFuIGVtYWlsIGFib3V0IHdoYXQgeW91IHdvdWxkIGxpa2Ugc2hvd24gYW5kIEkgd2lsbCBwdXQgaXQgaW4gZm9yIHRoZSBuZXh0IHZlcnNpb24uIFRoYW5rIHlvdSEnOwokbGFuZ1snc3BvbnNvcnMnXSA9ICdDdXJyZW50IHNwb25zb3JzLCB0aGFuayB5b3UgZm9yIHlvdXIgc3VwcG9ydCEnOwokbGFuZ1snc2hvd2RvbmF0aW9uc3RhYiddID0gJ1Nob3cgZG9uYXRpb25zIHRhYic7CiRsYW5nWydhZG1pbl9wbGFjZW1lbnQnXSA9ICdBZG1pbiBQbGFjZW1lbnQnOwokbGFuZ1snYWRtaW5fc2VjdGlvbiddID0gJ0FkbWluIFNlY3Rpb24nOwokbGFuZ1snYWRtaW5fc2VjdGlvbl9oZWxwJ10gPSAnU2VsZWN0IHdoaWNoIGFkbWluIHNlY3Rpb24gdGhpcyBtb2R1bGUgc2hvdWxkIGFwcGVhciBpbi4gWW91IG1heSBuZWVkIHRvIGNsZWFyIHRoZSBDTVNNUyBjYWNoZSBhZnRlciBjaGFuZ2luZyB0aGlzIHZhbHVlLic7CiRsYW5nWydzdWJtaXQnXSA9ICdTdWJtaXQnOwokbGFuZ1snbXNnX3ByZWZzX3NhdmVkJ10gPSAnUHJlZmVyZW5jZXMgU2F2ZWQnOwokbGFuZ1snc2V0dGluZ3N1cGRhdGVkJ10gPSAnU2V0dGluZ3MgdXBkYXRlZCBzdWNjZXNzZnVsbHknOwokbGFuZ1sncHJlZnN1cGRhdGVkJ10gPSAnUHJlZmVyZW5jZXMgdXBkYXRlZCc7CgovLyBNaWdyYXRpb24gSW50ZXJmYWNlCiRsYW5nWydtaWdyYXRpb25fdGl0bGUnXSA9ICdDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb24nOwokbGFuZ1snbWlncmF0aW9uX2Rlc2NyaXB0aW9uJ10gPSAnVGhpcyB0b29sIG1pZ3JhdGVzIGRhdGEgZnJvbSBDR0Jsb2cgbW9kdWxlIHRvIExJU0UgaW5zdGFuY2VzLic7CiRsYW5nWydtaWdyYXRpb25fcHJlcmVxdWlzaXRlcyddID0gJ1ByZXJlcXVpc2l0ZXMnOwokbGFuZ1snbWlncmF0aW9uX3ByZXJlcXVpc2l0ZXNfZGVzYyddID0gJ0JlZm9yZSBzdGFydGluZyBtaWdyYXRpb24sIGVuc3VyZTonOwokbGFuZ1snbWlncmF0aW9uX3ByZXJlcXVpc2l0ZXNfY2dibG9nJ10gPSAnQ0dCbG9nIG1vZHVsZSBpcyBpbnN0YWxsZWQnOwokbGFuZ1snbWlncmF0aW9uX3ByZXJlcXVpc2l0ZXNfbGlzZSddID0gJ0xJU0UgbW9kdWxlIGlzIGluc3RhbGxlZCc7CiRsYW5nWydtaWdyYXRpb25fcHJlcmVxdWlzaXRlc19kYXRhJ10gPSAnQ0dCbG9nIGNvbnRhaW5zIGRhdGEgdG8gbWlncmF0ZSc7CgovLyBTdGF0aXN0aWNzCiRsYW5nWydzdGF0aXN0aWNzX3RpdGxlJ10gPSAnQ0dCbG9nIFN0YXRpc3RpY3MnOwokbGFuZ1snc3RhdGlzdGljc19hcnRpY2xlcyddID0gJ0FydGljbGVzJzsKJGxhbmdbJ3N0YXRpc3RpY3NfY2F0ZWdvcmllcyddID0gJ0NhdGVnb3JpZXMnOwokbGFuZ1snc3RhdGlzdGljc19maWVsZGRlZnMnXSA9ICdDdXN0b20gRmllbGRzJzsKJGxhbmdbJ3N0YXRpc3RpY3NfZmllbGR2YWxzJ10gPSAnRmllbGQgVmFsdWVzJzsKCi8vIEluc3RhbmNlIFNlbGVjdGlvbgokbGFuZ1snaW5zdGFuY2Vfc2VsZWN0aW9uJ10gPSAnTElTRSBJbnN0YW5jZSBTZWxlY3Rpb24nOwokbGFuZ1snaW5zdGFuY2VfY3JlYXRlX25ldyddID0gJ0NyZWF0ZSBOZXcgTElTRSBJbnN0YW5jZSc7CiRsYW5nWydpbnN0YW5jZV91c2VfZXhpc3RpbmcnXSA9ICdVc2UgRXhpc3RpbmcgTElTRSBJbnN0YW5jZSc7CiRsYW5nWydpbnN0YW5jZV9uYW1lJ10gPSAnSW5zdGFuY2UgTmFtZSc7CiRsYW5nWydpbnN0YW5jZV9uYW1lX2hlbHAnXSA9ICdFbnRlciBhIG5hbWUgZm9yIHRoZSBuZXcgTElTRSBpbnN0YW5jZSAoYWxwaGFudW1lcmljIG9ubHksIG5vIHNwYWNlcykuIElmIGxlZnQgZW1wdHksIGEgZGVmYXVsdCBuYW1lIHdpbGwgYmUgZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuJzsKJGxhbmdbJ2luc3RhbmNlX2ZyaWVuZGx5bmFtZSddID0gJ0ZyaWVuZGx5IE5hbWUnOwokbGFuZ1snaW5zdGFuY2VfZnJpZW5kbHluYW1lX2hlbHAnXSA9ICdFbnRlciBhIGZyaWVuZGx5IGRpc3BsYXkgbmFtZSBmb3IgdGhlIGluc3RhbmNlLiBJZiBsZWZ0IGVtcHR5LCBhIGRlZmF1bHQgbmFtZSB3aWxsIGJlIGdlbmVyYXRlZCBhdXRvbWF0aWNhbGx5Lic7CiRsYW5nWydpbnN0YW5jZV9zZWxlY3QnXSA9ICdTZWxlY3QgRXhpc3RpbmcgSW5zdGFuY2UnOwokbGFuZ1snaW5zdGFuY2Vfc2VsZWN0X2hlbHAnXSA9ICdDaG9vc2UgYW4gZXhpc3RpbmcgTElTRSBpbnN0YW5jZSB0byBtaWdyYXRlIGRhdGEgaW50by4nOwokbGFuZ1snaW5zdGFuY2Vfbm9uZSddID0gJ05vIExJU0UgaW5zdGFuY2VzIGF2YWlsYWJsZSc7CgovLyBEYXRhIFNlbGVjdGlvbgokbGFuZ1snZGF0YV9zZWxlY3Rpb24nXSA9ICdEYXRhIHRvIE1pZ3JhdGUnOwokbGFuZ1snZGF0YV9taWdyYXRlX2FydGljbGVzJ10gPSAnTWlncmF0ZSBBcnRpY2xlcyc7CiRsYW5nWydkYXRhX21pZ3JhdGVfY2F0ZWdvcmllcyddID0gJ01pZ3JhdGUgQ2F0ZWdvcmllcyc7CiRsYW5nWydkYXRhX21pZ3JhdGVfZmllbGRkZWZzJ10gPSAnTWlncmF0ZSBDdXN0b20gRmllbGRzJzsKJGxhbmdbJ2RhdGFfbWlncmF0ZV9maWVsZHZhbHMnXSA9ICdNaWdyYXRlIEZpZWxkIFZhbHVlcyc7CgovLyBQcmV2aWV3CiRsYW5nWydwcmV2aWV3X3RpdGxlJ10gPSAnTWlncmF0aW9uIFByZXZpZXcnOwokbGFuZ1sncHJldmlld19kZXNjcmlwdGlvbiddID0gJ1JldmlldyB0aGUgZGF0YSB0aGF0IHdpbGwgYmUgbWlncmF0ZWQ6JzsKJGxhbmdbJ3ByZXZpZXdfYXJ0aWNsZXNfY291bnQnXSA9ICdBcnRpY2xlcyB0byBtaWdyYXRlOiAlcyc7CiRsYW5nWydwcmV2aWV3X2NhdGVnb3JpZXNfY291bnQnXSA9ICdDYXRlZ29yaWVzIHRvIG1pZ3JhdGU6ICVzJzsKJGxhbmdbJ3ByZXZpZXdfZmllbGRkZWZzX2NvdW50J10gPSAnRmllbGQgZGVmaW5pdGlvbnMgdG8gbWlncmF0ZTogJXMnOwokbGFuZ1sncHJldmlld19maWVsZHZhbHNfY291bnQnXSA9ICdGaWVsZCB2YWx1ZXMgdG8gbWlncmF0ZTogJXMnOwoKLy8gTWlncmF0aW9uIEFjdGlvbnMKJGxhbmdbJ21pZ3JhdGVfYnV0dG9uJ10gPSAnU3RhcnQgTWlncmF0aW9uJzsKJGxhbmdbJ21pZ3JhdGVfcHJldmlldyddID0gJ1ByZXZpZXcgTWlncmF0aW9uJzsKJGxhbmdbJ21pZ3JhdGVfY2FuY2VsJ10gPSAnQ2FuY2VsJzsKJGxhbmdbJ21pZ3JhdGVfY29uZmlybSddID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzdGFydCB0aGUgbWlncmF0aW9uPyBUaGlzIGFjdGlvbiBjYW5ub3QgYmUgdW5kb25lLic7CgovLyBNaWdyYXRpb24gU3RhdHVzCiRsYW5nWydtaWdyYXRpb25fc3RhcnRlZCddID0gJ01pZ3JhdGlvbiBzdGFydGVkLi4uJzsKJGxhbmdbJ21pZ3JhdGlvbl9pbl9wcm9ncmVzcyddID0gJ01pZ3JhdGlvbiBpbiBwcm9ncmVzcy4uLic7CiRsYW5nWydtaWdyYXRpb25fY29tcGxldGVkJ10gPSAnTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkhJzsKJGxhbmdbJ21pZ3JhdGlvbl9mYWlsZWQnXSA9ICdNaWdyYXRpb24gZmFpbGVkLiBQbGVhc2UgY2hlY2sgdGhlIGxvZ3MgZm9yIGRldGFpbHMuJzsKJGxhbmdbJ21pZ3JhdGlvbl9wYXJ0aWFsJ10gPSAnTWlncmF0aW9uIGNvbXBsZXRlZCB3aXRoIHdhcm5pbmdzLiBTb21lIGRhdGEgbWF5IG5vdCBoYXZlIGJlZW4gbWlncmF0ZWQuJzsKCi8vIE1pZ3JhdGlvbiBTdGVwcwokbGFuZ1snc3RlcF92YWxpZGF0aW9uJ10gPSAnVmFsaWRhdGluZyBwcmVyZXF1aXNpdGVzLi4uJzsKJGxhbmdbJ3N0ZXBfaW5zdGFuY2UnXSA9ICdDcmVhdGluZyBMSVNFIGluc3RhbmNlLi4uJzsKJGxhbmdbJ3N0ZXBfY2F0ZWdvcmllcyddID0gJ01pZ3JhdGluZyBjYXRlZ29yaWVzLi4uJzsKJGxhbmdbJ3N0ZXBfZmllbGRkZWZzJ10gPSAnTWlncmF0aW5nIGZpZWxkIGRlZmluaXRpb25zLi4uJzsKJGxhbmdbJ3N0ZXBfYXJ0aWNsZXMnXSA9ICdNaWdyYXRpbmcgYXJ0aWNsZXMuLi4nOwokbGFuZ1snc3RlcF9maWVsZHZhbHMnXSA9ICdNaWdyYXRpbmcgZmllbGQgdmFsdWVzLi4uJzsKJGxhbmdbJ3N0ZXBfcmVsYXRpb25zaGlwcyddID0gJ01pZ3JhdGluZyByZWxhdGlvbnNoaXBzLi4uJzsKJGxhbmdbJ3N0ZXBfdmVyaWZpY2F0aW9uJ10gPSAnVmVyaWZ5aW5nIG1pZ3JhdGlvbi4uLic7CgovLyBSZXN1bHRzCiRsYW5nWydyZXN1bHRzX3RpdGxlJ10gPSAnTWlncmF0aW9uIFJlc3VsdHMnOwokbGFuZ1sncmVzdWx0c19hcnRpY2xlc19taWdyYXRlZCddID0gJ0FydGljbGVzIG1pZ3JhdGVkOiAlcyc7CiRsYW5nWydyZXN1bHRzX2NhdGVnb3JpZXNfbWlncmF0ZWQnXSA9ICdDYXRlZ29yaWVzIG1pZ3JhdGVkOiAlcyc7CiRsYW5nWydyZXN1bHRzX2ZpZWxkZGVmc19taWdyYXRlZCddID0gJ0ZpZWxkIGRlZmluaXRpb25zIG1pZ3JhdGVkOiAlcyc7CiRsYW5nWydyZXN1bHRzX2ZpZWxkdmFsc19taWdyYXRlZCddID0gJ0ZpZWxkIHZhbHVlcyBtaWdyYXRlZDogJXMnOwokbGFuZ1sncmVzdWx0c19lcnJvcnMnXSA9ICdFcnJvcnM6ICVzJzsKJGxhbmdbJ3Jlc3VsdHNfd2FybmluZ3MnXSA9ICdXYXJuaW5nczogJXMnOwoKLy8gRXJyb3JzCiRsYW5nWydlcnJvcl9jZ2Jsb2dfbm90X2luc3RhbGxlZCddID0gJ0NHQmxvZyBtb2R1bGUgaXMgbm90IGluc3RhbGxlZC4nOwokbGFuZ1snZXJyb3JfbGlzZV9ub3RfaW5zdGFsbGVkJ10gPSAnTElTRSBtb2R1bGUgaXMgbm90IGluc3RhbGxlZC4nOwokbGFuZ1snZXJyb3Jfbm9fZGF0YSddID0gJ05vIENHQmxvZyBkYXRhIGZvdW5kIHRvIG1pZ3JhdGUuJzsKJGxhbmdbJ2Vycm9yX2luc3RhbmNlX2V4aXN0cyddID0gJ0xJU0UgaW5zdGFuY2Ugd2l0aCB0aGlzIG5hbWUgYWxyZWFkeSBleGlzdHMuJzsKJGxhbmdbJ2Vycm9yX2luc3RhbmNlX2ludmFsaWQnXSA9ICdJbnZhbGlkIGluc3RhbmNlIG5hbWUuIFVzZSBvbmx5IGFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzLic7CiRsYW5nWydlcnJvcl9pbnN0YW5jZV9ub3RfZm91bmQnXSA9ICdTZWxlY3RlZCBMSVNFIGluc3RhbmNlIG5vdCBmb3VuZC4nOwokbGFuZ1snZXJyb3JfbWlncmF0aW9uX2ZhaWxlZCddID0gJ01pZ3JhdGlvbiBmYWlsZWQ6ICVzJzsKJGxhbmdbJ2Vycm9yX2RhdGFiYXNlJ10gPSAnRGF0YWJhc2UgZXJyb3I6ICVzJzsKJGxhbmdbJ2Vycm9yX3Blcm1pc3Npb24nXSA9ICdJbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMgdG8gcGVyZm9ybSBtaWdyYXRpb24uJzsKCi8vIFdhcm5pbmdzCiRsYW5nWyd3YXJuaW5nX25vX2NhdGVnb3JpZXMnXSA9ICdObyBjYXRlZ29yaWVzIGZvdW5kIGluIENHQmxvZy4nOwokbGFuZ1snd2FybmluZ19ub19maWVsZGRlZnMnXSA9ICdObyBjdXN0b20gZmllbGRzIGZvdW5kIGluIENHQmxvZy4nOwokbGFuZ1snd2FybmluZ19ub19hcnRpY2xlcyddID0gJ05vIGFydGljbGVzIGZvdW5kIGluIENHQmxvZy4nOwoKLy8gSGVscAokbGFuZ1snaGVscCddID0gJzxkaXYgY2xhc3M9Im1hcy1taWdyYXRpb24taGVscCI+CjxoMz5NQVMgQ0dCbG9nIHRvIExJU0UgTWlncmF0aW9uIE1vZHVsZTwvaDM+Cgo8cD48c3Ryb25nPk1BUyBDR0Jsb2cgdG8gTElTRSBNaWdyYXRpb248L3N0cm9uZz4gaXMgYSB0b29sIGZvciBtaWdyYXRpbmcgZGF0YSBmcm9tIHRoZSBDR0Jsb2cgbW9kdWxlIHRvIExJU0UgaW5zdGFuY2VzIGluIENNUyBNYWRlIFNpbXBsZS48L3A+Cgo8aDQ+RmVhdHVyZXM8L2g0Pgo8dWw+CiAgICA8bGk+PHN0cm9uZz5DcmVhdGUgTmV3IEluc3RhbmNlczo8L3N0cm9uZz4gQXV0b21hdGljYWxseSBjcmVhdGUgbmV3IExJU0UgaW5zdGFuY2VzIGZyb20gQ0dCbG9nIGRhdGE8L2xpPgogICAgPGxpPjxzdHJvbmc+VXNlIEV4aXN0aW5nIEluc3RhbmNlczo8L3N0cm9uZz4gQ29weSBkYXRhIHRvIGV4aXN0aW5nIExJU0UgaW5zdGFuY2VzPC9saT4KICAgIDxsaT48c3Ryb25nPlNlbGVjdGl2ZSBNaWdyYXRpb246PC9zdHJvbmc+IENob29zZSB3aGljaCBkYXRhIHRvIG1pZ3JhdGUgKGFydGljbGVzLCBjYXRlZ29yaWVzLCBjdXN0b20gZmllbGRzKTwvbGk+CiAgICA8bGk+PHN0cm9uZz5QcmV2aWV3Ojwvc3Ryb25nPiBQcmV2aWV3IGRhdGEgYmVmb3JlIG1pZ3JhdGlvbjwvbGk+CiAgICA8bGk+PHN0cm9uZz5Db21wcmVoZW5zaXZlIE1hcHBpbmc6PC9zdHJvbmc+IEF1dG9tYXRpY2FsbHkgbWFwcyBDR0Jsb2cgZGF0YSBzdHJ1Y3R1cmVzIHRvIExJU0UgZm9ybWF0PC9saT4KICAgIDxsaT48c3Ryb25nPkVycm9yIEhhbmRsaW5nOjwvc3Ryb25nPiBEZXRhaWxlZCBlcnJvciByZXBvcnRpbmcgYW5kIGxvZ2dpbmc8L2xpPgo8L3VsPgoKPGg0PkdldHRpbmcgU3RhcnRlZDwvaDQ+CjxvbD4KICAgIDxsaT48c3Ryb25nPlByZXJlcXVpc2l0ZXM6PC9zdHJvbmc+IEVuc3VyZSBib3RoIENHQmxvZyBhbmQgTElTRSBtb2R1bGVzIGFyZSBpbnN0YWxsZWQ8L2xpPgogICAgPGxpPjxzdHJvbmc+QWNjZXNzIE1pZ3JhdGlvbjo8L3N0cm9uZz4gR28gdG8gRXh0ZW5zaW9ucyDihpIgTUFTIENHQmxvZyB0byBMSVNFIE1pZ3JhdGlvbjwvbGk+CiAgICA8bGk+PHN0cm9uZz5DaG9vc2UgSW5zdGFuY2U6PC9zdHJvbmc+IENyZWF0ZSBuZXcgb3Igc2VsZWN0IGV4aXN0aW5nIExJU0UgaW5zdGFuY2U8L2xpPgogICAgPGxpPjxzdHJvbmc+U2VsZWN0IERhdGE6PC9zdHJvbmc+IENob29zZSB3aGljaCBkYXRhIHR5cGVzIHRvIG1pZ3JhdGU8L2xpPgogICAgPGxpPjxzdHJvbmc+UHJldmlldzo8L3N0cm9uZz4gUmV2aWV3IHdoYXQgd2lsbCBiZSBtaWdyYXRlZDwvbGk+CiAgICA8bGk+PHN0cm9uZz5NaWdyYXRlOjwvc3Ryb25nPiBTdGFydCB0aGUgbWlncmF0aW9uIHByb2Nlc3M8L2xpPgo8L29sPgoKPGg0PkRhdGEgTWFwcGluZzwvaDQ+Cjx1bD4KICAgIDxsaT48c3Ryb25nPkFydGljbGVzOjwvc3Ryb25nPiBDR0Jsb2cgYXJ0aWNsZXMg4oaSIExJU0UgaXRlbXM8L2xpPgogICAgPGxpPjxzdHJvbmc+Q2F0ZWdvcmllczo8L3N0cm9uZz4gQ0dCbG9nIGNhdGVnb3JpZXMg4oaSIExJU0UgY2F0ZWdvcmllcyAoaGllcmFyY2h5IHByZXNlcnZlZCk8L2xpPgogICAgPGxpPjxzdHJvbmc+Q3VzdG9tIEZpZWxkczo8L3N0cm9uZz4gQ0dCbG9nIGZpZWxkIGRlZmluaXRpb25zIOKGkiBMSVNFIGZpZWxkIGRlZmluaXRpb25zPC9saT4KICAgIDxsaT48c3Ryb25nPkZpZWxkIFZhbHVlczo8L3N0cm9uZz4gQ0dCbG9nIGZpZWxkIHZhbHVlcyDihpIgTElTRSBpdGVtIGZpZWxkIHZhbHVlczwvbGk+CjwvdWw+Cgo8aDQ+SW1wb3J0YW50IE5vdGVzPC9oND4KPHVsPgogICAgPGxpPk1pZ3JhdGlvbiBjYW5ub3QgYmUgdW5kb25lIGF1dG9tYXRpY2FsbHkuIEJhY2t1cCB5b3VyIGRhdGEgYmVmb3JlIG1pZ3JhdGlvbi48L2xpPgogICAgPGxpPkZpZWxkIHR5cGVzIGFyZSBhdXRvbWF0aWNhbGx5IG1hcHBlZCBmcm9tIENHQmxvZyB0byBMSVNFIGZvcm1hdC48L2xpPgogICAgPGxpPkNhdGVnb3J5IGhpZXJhcmNoaWVzIGFyZSBwcmVzZXJ2ZWQgZHVyaW5nIG1pZ3JhdGlvbi48L2xpPgogICAgPGxpPkFydGljbGUgVVJMcyBhbmQgbWV0YWRhdGEgYXJlIHByZXNlcnZlZC48L2xpPgo8L3VsPgo8L2Rpdj4nOwoKLy8gQ2hhbmdlbG9nCiRsYW5nWydjaGFuZ2Vsb2cnXSA9ICc8dWw+CjxsaT48c3Ryb25nPlZlcnNpb24gMS4wLjEsIDA2LjAxLjI2LCBtYXN0ZXIzMzk1PC9zdHJvbmc+OiBCdWcgZml4ZXMgYW5kIGltcHJvdmVtZW50cwogICAgPHVsPgogICAgICAgIDxsaT5GaXhlZCBkYXRhYmFzZSBjb2x1bW4gbmFtZXMgKGNyZWF0ZV90aW1lL21vZGlmaWVkX3RpbWUgaW5zdGVhZCBvZiBjcmVhdGVfZGF0ZS9tb2RpZmllZF9kYXRlKTwvbGk+CiAgICAgICAgPGxpPkZpeGVkIGNvbnRlbnQgc3RvcmFnZSAtIGFydGljbGUgY29udGVudCBhbmQgc3VtbWFyaWVzIG5vdyBjb3JyZWN0bHkgc3RvcmVkIGluIGZpZWxkdmFsIHRhYmxlPC9saT4KICAgICAgICA8bGk+QWRkZWQgYXV0b21hdGljIGNyZWF0aW9uIG9mIENvbnRlbnQgYW5kIFN1bW1hcnkgZmllbGQgZGVmaW5pdGlvbnM8L2xpPgogICAgICAgIDxsaT5GaXhlZCBmaWVsZCBkZWZpbml0aW9uIGluc2VydHMgdG8gdXNlIGNvcnJlY3QgTElTRSBzY2hlbWEgKG5hbWUsIGFsaWFzLCBoZWxwLCB0eXBlLCBwb3NpdGlvbiwgcmVxdWlyZWQsIHRlbXBsYXRlLCBleHRyYSk8L2xpPgogICAgICAgIDxsaT5SZW1vdmVkIGR1cGxpY2F0ZSBzdGF0aXN0aWNzIGRpc3BsYXkgaW4gbWlncmF0aW9uIGludGVyZmFjZTwvbGk+CiAgICAgICAgPGxpPkFkZGVkIHZpc2libGUgbGFiZWxzIGZvciByYWRpbyBidXR0b25zIGluIGluc3RhbmNlIHNlbGVjdGlvbjwvbGk+CiAgICAgICAgPGxpPlNwbGl0IE1pZ3JhdGlvbkVuZ2luZS5waHAgaW50byBzbWFsbGVyIG1vZHVsZXMgdG8gY29tcGx5IHdpdGggNTAwIGxpbmUgbGltaXQ8L2xpPgogICAgICAgIDxsaT5BZGRlZCBTdGFydCBNaWdyYXRpb24gYnV0dG9uIHRvIHByZXZpZXcgc2VjdGlvbjwvbGk+CiAgICAgICAgPGxpPkZpeGVkIGNhbGxiYWNrIGVycm9yIGZvciBsb2dnaW5nIGZ1bmN0aW9uYWxpdHk8L2xpPgogICAgPC91bD4KPC9saT4KPGxpPjxzdHJvbmc+VmVyc2lvbiAxLjAuMCwgMjAyNSwgbWFzdGVyMzM5NTwvc3Ryb25nPjogSW5pdGlhbCByZWxlYXNlCiAgICA8dWw+CiAgICAgICAgPGxpPk1pZ3JhdGUgYXJ0aWNsZXMgZnJvbSBDR0Jsb2cgdG8gTElTRTwvbGk+CiAgICAgICAgPGxpPk1pZ3JhdGUgY2F0ZWdvcmllcyB3aXRoIGhpZXJhcmNoeSBwcmVzZXJ2YXRpb248L2xpPgogICAgICAgIDxsaT5NaWdyYXRlIGN1c3RvbSBmaWVsZCBkZWZpbml0aW9ucyBhbmQgdmFsdWVzPC9saT4KICAgICAgICA8bGk+Q3JlYXRlIG5ldyBMSVNFIGluc3RhbmNlcyBvciB1c2UgZXhpc3Rpbmcgb25lczwvbGk+CiAgICAgICAgPGxpPlByZXZpZXcgbWlncmF0aW9uIGRhdGEgYmVmb3JlIGV4ZWN1dGluZzwvbGk+CiAgICAgICAgPGxpPkNvbXByZWhlbnNpdmUgZXJyb3IgaGFuZGxpbmcgYW5kIGxvZ2dpbmc8L2xpPgogICAgPC91bD4KPC9saT4KPC91bD4nOwoKLy8gQXVkaXQgbG9nIG1lc3NhZ2VzCiRsYW5nWydhdWRpdF9wcmV2aWV3X21pZ3JhdGlvbiddID0gJ1ByZXZpZXdlZCBtaWdyYXRpb246ICVzIGFydGljbGVzLCAlcyBjYXRlZ29yaWVzLCAlcyBmaWVsZCBkZWZpbml0aW9ucywgJXMgZmllbGQgdmFsdWVzJzsKJGxhbmdbJ2F1ZGl0X3N0YXJ0X21pZ3JhdGlvbiddID0gJ1N0YXJ0ZWQgbWlncmF0aW9uIHRvIExJU0UgaW5zdGFuY2U6ICVzJzsKJGxhbmdbJ2F1ZGl0X2NvbXBsZXRlX21pZ3JhdGlvbiddID0gJ0NvbXBsZXRlZCBtaWdyYXRpb246ICVzIGFydGljbGVzLCAlcyBjYXRlZ29yaWVzLCAlcyBmaWVsZCBkZWZpbml0aW9ucyBtaWdyYXRlZCc7CiRsYW5nWydhdWRpdF9mYWlsZWRfbWlncmF0aW9uJ10gPSAnTWlncmF0aW9uIGZhaWxlZDogJXMnOwoKPz4K]]></data>
	</file>
	<file>
	  <filename>/lib/</filename>
	  <isdir>1</isdir>
	</file>
	<file>
	  <filename>/lib/class.DataMapper.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIERhdGEgTWFwcGVyIENsYXNzCiAqIE1hcHMgQ0dCbG9nIGRhdGEgc3RydWN0dXJlcyB0byBMSVNFIGZvcm1hdAogKi8KCmlmICghZGVmaW5lZCgnQ01TX1ZFUlNJT04nKSkgZXhpdDsKCmNsYXNzIERhdGFNYXBwZXIKewogICAgLyoqCiAgICAgKiBNYXAgQ0dCbG9nIGZpZWxkIHR5cGUgdG8gTElTRSBmaWVsZCB0eXBlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gTWFwRmllbGRUeXBlKCRjZ2Jsb2dfdHlwZSkKICAgIHsKICAgICAgICAkbWFwcGluZyA9IGFycmF5KAogICAgICAgICAgICAndGV4dGJveCcgPT4gJ3RleHQnLAogICAgICAgICAgICAndGV4dGFyZWEnID0+ICd0ZXh0YXJlYScsCiAgICAgICAgICAgICdjaGVja2JveCcgPT4gJ2NoZWNrYm94JywKICAgICAgICAgICAgJ2ZpbGUnID0+ICdmaWxlJywKICAgICAgICAgICAgJ2ltYWdlJyA9PiAnaW1hZ2UnLAogICAgICAgICAgICAnZmlsZV9zZWxlY3QnID0+ICdmaWxlX3NlbGVjdCcsCiAgICAgICAgICAgICdpbWFnZV9zZWxlY3QnID0+ICdpbWFnZV9zZWxlY3QnCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICByZXR1cm4gaXNzZXQoJG1hcHBpbmdbJGNnYmxvZ190eXBlXSkgPyAkbWFwcGluZ1skY2dibG9nX3R5cGVdIDogJ3RleHQnOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE1hcCBhcnRpY2xlIHN0YXR1cyB0byBhY3RpdmUgZmxhZwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIE1hcFN0YXR1c1RvQWN0aXZlKCRzdGF0dXMpCiAgICB7CiAgICAgICAgcmV0dXJuICgkc3RhdHVzID09ICdwdWJsaXNoZWQnKSA/IDEgOiAwOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCBDR0Jsb2cgYXJ0aWNsZXMKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBHZXRDR0Jsb2dBcnRpY2xlcygkZGIpCiAgICB7CiAgICAgICAgJHF1ZXJ5ID0gJ1NFTEVDVCAqIEZST00gJyAuIGNtc19kYl9wcmVmaXgoKSAuICdtb2R1bGVfY2dibG9nIE9SREVSIEJZIGNnYmxvZ19pZCc7CiAgICAgICAgcmV0dXJuICRkYi0+R2V0QXJyYXkoJHF1ZXJ5KTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgQ0dCbG9nIGNhdGVnb3JpZXMKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBHZXRDR0Jsb2dDYXRlZ29yaWVzKCRkYikKICAgIHsKICAgICAgICAkcXVlcnkgPSAnU0VMRUNUICogRlJPTSAnIC4gY21zX2RiX3ByZWZpeCgpIC4gJ21vZHVsZV9jZ2Jsb2dfY2F0ZWdvcmllcyBPUkRFUiBCWSBoaWVyYXJjaHksIGl0ZW1fb3JkZXInOwogICAgICAgIHJldHVybiAkZGItPkdldEFycmF5KCRxdWVyeSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IENHQmxvZyBmaWVsZCBkZWZpbml0aW9ucwogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIEdldENHQmxvZ0ZpZWxkRGVmcygkZGIpCiAgICB7CiAgICAgICAgJHF1ZXJ5ID0gJ1NFTEVDVCAqIEZST00gJyAuIGNtc19kYl9wcmVmaXgoKSAuICdtb2R1bGVfY2dibG9nX2ZpZWxkZGVmcyBPUkRFUiBCWSBpdGVtX29yZGVyJzsKICAgICAgICByZXR1cm4gJGRiLT5HZXRBcnJheSgkcXVlcnkpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCBDR0Jsb2cgZmllbGQgdmFsdWVzIGZvciBhbiBhcnRpY2xlCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gR2V0Q0dCbG9nRmllbGRWYWxzKCRkYiwgJGFydGljbGVfaWQpCiAgICB7CiAgICAgICAgJHF1ZXJ5ID0gJ1NFTEVDVCBmdi4qLCBmZC5uYW1lLCBmZC50eXBlIAogICAgICAgICAgICAgICAgICBGUk9NICcgLiBjbXNfZGJfcHJlZml4KCkgLiAnbW9kdWxlX2NnYmxvZ19maWVsZHZhbHMgZnYKICAgICAgICAgICAgICAgICAgTEVGVCBKT0lOICcgLiBjbXNfZGJfcHJlZml4KCkgLiAnbW9kdWxlX2NnYmxvZ19maWVsZGRlZnMgZmQgT04gZnYuZmllbGRkZWZfaWQgPSBmZC5pZAogICAgICAgICAgICAgICAgICBXSEVSRSBmdi5jZ2Jsb2dfaWQgPSA/JzsKICAgICAgICByZXR1cm4gJGRiLT5HZXRBcnJheSgkcXVlcnksIGFycmF5KCRhcnRpY2xlX2lkKSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IENHQmxvZyBhcnRpY2xlIGNhdGVnb3JpZXMKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBHZXRDR0Jsb2dBcnRpY2xlQ2F0ZWdvcmllcygkZGIsICRhcnRpY2xlX2lkKQogICAgewogICAgICAgICRxdWVyeSA9ICdTRUxFQ1QgY2F0ZWdvcnlfaWQgRlJPTSAnIC4gY21zX2RiX3ByZWZpeCgpIC4gJ21vZHVsZV9jZ2Jsb2dfYmxvZ19jYXRlZ29yaWVzIFdIRVJFIGJsb2dfaWQgPSA/JzsKICAgICAgICAkcmVzdWx0ID0gJGRiLT5HZXRBcnJheSgkcXVlcnksIGFycmF5KCRhcnRpY2xlX2lkKSk7CiAgICAgICAgJGNhdGVnb3JpZXMgPSBhcnJheSgpOwogICAgICAgIGlmICgkcmVzdWx0KSB7CiAgICAgICAgICAgIGZvcmVhY2ggKCRyZXN1bHQgYXMgJHJvdykgewogICAgICAgICAgICAgICAgJGNhdGVnb3JpZXNbXSA9ICRyb3dbJ2NhdGVnb3J5X2lkJ107CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuICRjYXRlZ29yaWVzOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFByZXBhcmUgYXJ0aWNsZSBkYXRhIGZvciBMSVNFCiAgICAgKi8KICAgIHB1YmxpYyBzdGF0aWMgZnVuY3Rpb24gUHJlcGFyZUFydGljbGVEYXRhKCRjZ2Jsb2dfYXJ0aWNsZSwgJGRiKQogICAgewogICAgICAgICRkYXRhID0gYXJyYXkoCiAgICAgICAgICAgICd0aXRsZScgPT4gJGNnYmxvZ19hcnRpY2xlWydjZ2Jsb2dfdGl0bGUnXSwKICAgICAgICAgICAgJ2RhdGEnID0+ICRjZ2Jsb2dfYXJ0aWNsZVsnY2dibG9nX2RhdGEnXSwKICAgICAgICAgICAgJ3N1bW1hcnknID0+IGlzc2V0KCRjZ2Jsb2dfYXJ0aWNsZVsnc3VtbWFyeSddKSA/ICRjZ2Jsb2dfYXJ0aWNsZVsnc3VtbWFyeSddIDogJycsCiAgICAgICAgICAgICdjcmVhdGVfZGF0ZScgPT4gJGNnYmxvZ19hcnRpY2xlWydjZ2Jsb2dfZGF0ZSddLAogICAgICAgICAgICAnbW9kaWZpZWRfZGF0ZScgPT4gaXNzZXQoJGNnYmxvZ19hcnRpY2xlWydtb2RpZmllZF9kYXRlJ10pID8gJGNnYmxvZ19hcnRpY2xlWydtb2RpZmllZF9kYXRlJ10gOiAkY2dibG9nX2FydGljbGVbJ2NnYmxvZ19kYXRlJ10sCiAgICAgICAgICAgICdhY3RpdmUnID0+IHNlbGY6Ok1hcFN0YXR1c1RvQWN0aXZlKCRjZ2Jsb2dfYXJ0aWNsZVsnc3RhdHVzJ10pLAogICAgICAgICAgICAndXJsJyA9PiBpc3NldCgkY2dibG9nX2FydGljbGVbJ3VybCddKSA/ICRjZ2Jsb2dfYXJ0aWNsZVsndXJsJ10gOiAnJywKICAgICAgICAgICAgJ2F1dGhvcicgPT4gaXNzZXQoJGNnYmxvZ19hcnRpY2xlWydhdXRob3InXSkgPyAkY2dibG9nX2FydGljbGVbJ2F1dGhvciddIDogJycsCiAgICAgICAgICAgICdwb3NpdGlvbicgPT4gMCAvLyBXaWxsIGJlIHNldCBkdXJpbmcgbWlncmF0aW9uCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICAvLyBHZW5lcmF0ZSBhbGlhcyBmcm9tIHRpdGxlIGlmIFVSTCBpcyBlbXB0eQogICAgICAgIGlmIChlbXB0eSgkZGF0YVsndXJsJ10pKSB7CiAgICAgICAgICAgICRkYXRhWydhbGlhcyddID0gbXVuZ2Vfc3RyaW5nX3RvX3VybCgkZGF0YVsndGl0bGUnXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJGRhdGFbJ2FsaWFzJ10gPSBtdW5nZV9zdHJpbmdfdG9fdXJsKCRkYXRhWyd1cmwnXSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiAkZGF0YTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBQcmVwYXJlIGNhdGVnb3J5IGRhdGEgZm9yIExJU0UKICAgICAqLwogICAgcHVibGljIHN0YXRpYyBmdW5jdGlvbiBQcmVwYXJlQ2F0ZWdvcnlEYXRhKCRjZ2Jsb2dfY2F0ZWdvcnkpCiAgICB7CiAgICAgICAgcmV0dXJuIGFycmF5KAogICAgICAgICAgICAnbmFtZScgPT4gJGNnYmxvZ19jYXRlZ29yeVsnbmFtZSddLAogICAgICAgICAgICAnZGVzY3JpcHRpb24nID0+IGlzc2V0KCRjZ2Jsb2dfY2F0ZWdvcnlbJ2Rlc2NyaXB0aW9uJ10pID8gJGNnYmxvZ19jYXRlZ29yeVsnZGVzY3JpcHRpb24nXSA6ICcnLAogICAgICAgICAgICAncGFyZW50X2lkJyA9PiBpc3NldCgkY2dibG9nX2NhdGVnb3J5WydwYXJlbnRfaWQnXSkgPyAoaW50KSRjZ2Jsb2dfY2F0ZWdvcnlbJ3BhcmVudF9pZCddIDogbnVsbCwKICAgICAgICAgICAgJ3Bvc2l0aW9uJyA9PiBpc3NldCgkY2dibG9nX2NhdGVnb3J5WydpdGVtX29yZGVyJ10pID8gKGludCkkY2dibG9nX2NhdGVnb3J5WydpdGVtX29yZGVyJ10gOiAwCiAgICAgICAgKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBQcmVwYXJlIGZpZWxkIGRlZmluaXRpb24gZGF0YSBmb3IgTElTRQogICAgICovCiAgICBwdWJsaWMgc3RhdGljIGZ1bmN0aW9uIFByZXBhcmVGaWVsZERlZkRhdGEoJGNnYmxvZ19maWVsZGRlZikKICAgIHsKICAgICAgICByZXR1cm4gYXJyYXkoCiAgICAgICAgICAgICdhbGlhcycgPT4gJGNnYmxvZ19maWVsZGRlZlsnbmFtZSddLAogICAgICAgICAgICAndHlwZScgPT4gc2VsZjo6TWFwRmllbGRUeXBlKCRjZ2Jsb2dfZmllbGRkZWZbJ3R5cGUnXSksCiAgICAgICAgICAgICdwb3NpdGlvbicgPT4gaXNzZXQoJGNnYmxvZ19maWVsZGRlZlsnaXRlbV9vcmRlciddKSA/IChpbnQpJGNnYmxvZ19maWVsZGRlZlsnaXRlbV9vcmRlciddIDogMCwKICAgICAgICAgICAgJ3B1YmxpYycgPT4gaXNzZXQoJGNnYmxvZ19maWVsZGRlZlsncHVibGljJ10pID8gKGludCkkY2dibG9nX2ZpZWxkZGVmWydwdWJsaWMnXSA6IDEKICAgICAgICApOwogICAgfQp9Cgo=]]></data>
	</file>
	<file>
	  <filename>/lib/class.MigrationDataHandler.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIE1pZ3JhdGlvbiBEYXRhIEhhbmRsZXIgQ2xhc3MKICogSGFuZGxlcyBkYXRhIG1pZ3JhdGlvbiBvcGVyYXRpb25zIGZvciBDR0Jsb2cgdG8gTElTRQogKi8KCmlmICghZGVmaW5lZCgnQ01TX1ZFUlNJT04nKSkgZXhpdDsKCmNsYXNzIE1pZ3JhdGlvbkRhdGFIYW5kbGVyCnsKICAgIHByaXZhdGUgJG1vZHVsZTsKICAgIHByaXZhdGUgJGRiOwogICAgcHJpdmF0ZSAkdGFibGVfcHJlZml4OwogICAgcHJpdmF0ZSAkY2F0ZWdvcnlfbWFwOwogICAgcHJpdmF0ZSAkZmllbGRkZWZfbWFwOwogICAgcHJpdmF0ZSAkYXJ0aWNsZV9tYXA7CiAgICBwcml2YXRlICRyZXN1bHRzOwogICAgcHJpdmF0ZSAkbG9nX2ZpbGU7CiAgICBwcml2YXRlICRsb2dfY2FsbGJhY2s7CiAgICAKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbW9kdWxlLCAkZGIsICR0YWJsZV9wcmVmaXgsICYkcmVzdWx0cywgJGxvZ19maWxlLCAkbG9nX2NhbGxiYWNrKQogICAgewogICAgICAgICR0aGlzLT5tb2R1bGUgPSAkbW9kdWxlOwogICAgICAgICR0aGlzLT5kYiA9ICRkYjsKICAgICAgICAkdGhpcy0+dGFibGVfcHJlZml4ID0gJHRhYmxlX3ByZWZpeDsKICAgICAgICAkdGhpcy0+cmVzdWx0cyA9ICYkcmVzdWx0czsKICAgICAgICAkdGhpcy0+bG9nX2ZpbGUgPSAkbG9nX2ZpbGU7CiAgICAgICAgJHRoaXMtPmxvZ19jYWxsYmFjayA9ICRsb2dfY2FsbGJhY2s7CiAgICAgICAgJHRoaXMtPmNhdGVnb3J5X21hcCA9IGFycmF5KCk7CiAgICAgICAgJHRoaXMtPmZpZWxkZGVmX21hcCA9IGFycmF5KCk7CiAgICAgICAgJHRoaXMtPmFydGljbGVfbWFwID0gYXJyYXkoKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBNaWdyYXRlIGNhdGVnb3JpZXMKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIE1pZ3JhdGVDYXRlZ29yaWVzKCkKICAgIHsKICAgICAgICAkdGhpcy0+TG9nKCdNaWdyYXRpbmcgY2F0ZWdvcmllcy4uLicpOwogICAgICAgICRjZ2Jsb2dfY2F0cyA9IERhdGFNYXBwZXI6OkdldENHQmxvZ0NhdGVnb3JpZXMoJHRoaXMtPmRiKTsKICAgICAgICAkY2F0ZWdvcnlfdGFibGUgPSAkdGhpcy0+dGFibGVfcHJlZml4IC4gJ2NhdGVnb3J5JzsKICAgICAgICAKICAgICAgICAkY2F0ZWdvcnlfbWFwID0gYXJyYXkoKTsgLy8gTWFwIG9sZCBJRCB0byBuZXcgSUQKICAgICAgICAKICAgICAgICAvLyBGaXJzdCBwYXNzOiBpbnNlcnQgYWxsIGNhdGVnb3JpZXMgd2l0aCB0ZW1wb3JhcnkgcGFyZW50X2lkCiAgICAgICAgZm9yZWFjaCAoJGNnYmxvZ19jYXRzIGFzICRjYXQpIHsKICAgICAgICAgICAgJGRhdGEgPSBEYXRhTWFwcGVyOjpQcmVwYXJlQ2F0ZWdvcnlEYXRhKCRjYXQpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSW5zZXJ0IGNhdGVnb3J5IChwYXJlbnRfaWQgd2lsbCBiZSB1cGRhdGVkIGluIHNlY29uZCBwYXNzKQogICAgICAgICAgICAkcXVlcnkgPSAnSU5TRVJUIElOVE8gJyAuICRjYXRlZ29yeV90YWJsZSAuICcgKG5hbWUsIGRlc2NyaXB0aW9uLCBwYXJlbnRfaWQsIHBvc2l0aW9uKSBWQUxVRVMgKD8sID8sID8sID8pJzsKICAgICAgICAgICAgJHRoaXMtPmRiLT5FeGVjdXRlKCRxdWVyeSwgYXJyYXkoCiAgICAgICAgICAgICAgICAkZGF0YVsnbmFtZSddLAogICAgICAgICAgICAgICAgJGRhdGFbJ2Rlc2NyaXB0aW9uJ10sCiAgICAgICAgICAgICAgICBudWxsLCAvLyBTZXQgdG8gbnVsbCBpbml0aWFsbHkKICAgICAgICAgICAgICAgICRkYXRhWydwb3NpdGlvbiddCiAgICAgICAgICAgICkpOwogICAgICAgICAgICAKICAgICAgICAgICAgJG5ld19pZCA9ICR0aGlzLT5kYi0+SW5zZXJ0X0lEKCk7CiAgICAgICAgICAgICRjYXRlZ29yeV9tYXBbJGNhdFsnaWQnXV0gPSAkbmV3X2lkOwogICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snY2F0ZWdvcmllcyddKys7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFNlY29uZCBwYXNzOiB1cGRhdGUgcGFyZW50X2lkIHJlZmVyZW5jZXMgd2l0aCBuZXcgSURzCiAgICAgICAgZm9yZWFjaCAoJGNnYmxvZ19jYXRzIGFzICRjYXQpIHsKICAgICAgICAgICAgaWYgKCRjYXRbJ3BhcmVudF9pZCddICYmIGlzc2V0KCRjYXRlZ29yeV9tYXBbJGNhdFsncGFyZW50X2lkJ11dKSAmJiBpc3NldCgkY2F0ZWdvcnlfbWFwWyRjYXRbJ2lkJ11dKSkgewogICAgICAgICAgICAgICAgJG5ld19pZCA9ICRjYXRlZ29yeV9tYXBbJGNhdFsnaWQnXV07CiAgICAgICAgICAgICAgICAkbmV3X3BhcmVudF9pZCA9ICRjYXRlZ29yeV9tYXBbJGNhdFsncGFyZW50X2lkJ11dOwogICAgICAgICAgICAgICAgJHF1ZXJ5ID0gJ1VQREFURSAnIC4gJGNhdGVnb3J5X3RhYmxlIC4gJyBTRVQgcGFyZW50X2lkID0gPyBXSEVSRSBjYXRlZ29yeV9pZCA9ID8nOwogICAgICAgICAgICAgICAgJHRoaXMtPmRiLT5FeGVjdXRlKCRxdWVyeSwgYXJyYXkoJG5ld19wYXJlbnRfaWQsICRuZXdfaWQpKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBTdG9yZSBjYXRlZ29yeSBtYXAgZm9yIGFydGljbGUgcmVsYXRpb25zaGlwcwogICAgICAgICR0aGlzLT5jYXRlZ29yeV9tYXAgPSAkY2F0ZWdvcnlfbWFwOwogICAgICAgICR0aGlzLT5Mb2coJ01pZ3JhdGVkICcgLiAkdGhpcy0+cmVzdWx0c1snY2F0ZWdvcmllcyddIC4gJyBjYXRlZ29yaWVzJywgZmFsc2UpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENyZWF0ZSBkZWZhdWx0IGZpZWxkIGRlZmluaXRpb25zIGZvciBDb250ZW50IGFuZCBTdW1tYXJ5CiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBDcmVhdGVEZWZhdWx0RmllbGREZWZzKCkKICAgIHsKICAgICAgICAkZmllbGRkZWZfdGFibGUgPSAkdGhpcy0+dGFibGVfcHJlZml4IC4gJ2ZpZWxkZGVmJzsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiBDb250ZW50IGZpZWxkIGFscmVhZHkgZXhpc3RzCiAgICAgICAgJGNvbnRlbnRfY2hlY2sgPSAkdGhpcy0+ZGItPkdldE9uZSgnU0VMRUNUIGZpZWxkZGVmX2lkIEZST00gJyAuICRmaWVsZGRlZl90YWJsZSAuICcgV0hFUkUgYWxpYXMgPSA/JywgYXJyYXkoJ2NvbnRlbnQnKSk7CiAgICAgICAgaWYgKCEkY29udGVudF9jaGVjaykgewogICAgICAgICAgICAkcXVlcnkgPSAnSU5TRVJUIElOVE8gJyAuICRmaWVsZGRlZl90YWJsZSAuICcgKG5hbWUsIGFsaWFzLCBoZWxwLCB0eXBlLCBwb3NpdGlvbiwgcmVxdWlyZWQsIHRlbXBsYXRlLCBleHRyYSkgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KSc7CiAgICAgICAgICAgICR0aGlzLT5kYi0+RXhlY3V0ZSgkcXVlcnksIGFycmF5KAogICAgICAgICAgICAgICAgJ0NvbnRlbnQnLAogICAgICAgICAgICAgICAgJ2NvbnRlbnQnLAogICAgICAgICAgICAgICAgJycsCiAgICAgICAgICAgICAgICAnVGV4dEFyZWEnLAogICAgICAgICAgICAgICAgMSwKICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAneyRmaWVsZGRlZi5uYW1lfTogeyRmaWVsZGRlZi52YWx1ZX0nLAogICAgICAgICAgICAgICAgbnVsbAogICAgICAgICAgICApKTsKICAgICAgICAgICAgJGNvbnRlbnRfaWQgPSAkdGhpcy0+ZGItPkluc2VydF9JRCgpOwogICAgICAgICAgICAkdGhpcy0+ZmllbGRkZWZfbWFwWydjb250ZW50J10gPSAkY29udGVudF9pZDsKICAgICAgICAgICAgJHRoaXMtPnJlc3VsdHNbJ2ZpZWxkZGVmcyddKys7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJHRoaXMtPmZpZWxkZGVmX21hcFsnY29udGVudCddID0gJGNvbnRlbnRfY2hlY2s7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIENoZWNrIGlmIFN1bW1hcnkgZmllbGQgYWxyZWFkeSBleGlzdHMKICAgICAgICAkc3VtbWFyeV9jaGVjayA9ICR0aGlzLT5kYi0+R2V0T25lKCdTRUxFQ1QgZmllbGRkZWZfaWQgRlJPTSAnIC4gJGZpZWxkZGVmX3RhYmxlIC4gJyBXSEVSRSBhbGlhcyA9ID8nLCBhcnJheSgnc3VtbWFyeScpKTsKICAgICAgICBpZiAoISRzdW1tYXJ5X2NoZWNrKSB7CiAgICAgICAgICAgICRxdWVyeSA9ICdJTlNFUlQgSU5UTyAnIC4gJGZpZWxkZGVmX3RhYmxlIC4gJyAobmFtZSwgYWxpYXMsIGhlbHAsIHR5cGUsIHBvc2l0aW9uLCByZXF1aXJlZCwgdGVtcGxhdGUsIGV4dHJhKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pJzsKICAgICAgICAgICAgJHRoaXMtPmRiLT5FeGVjdXRlKCRxdWVyeSwgYXJyYXkoCiAgICAgICAgICAgICAgICAnU3VtbWFyeScsCiAgICAgICAgICAgICAgICAnc3VtbWFyeScsCiAgICAgICAgICAgICAgICAnJywKICAgICAgICAgICAgICAgICdUZXh0QXJlYScsCiAgICAgICAgICAgICAgICAyLAogICAgICAgICAgICAgICAgMCwKICAgICAgICAgICAgICAgICd7JGZpZWxkZGVmLm5hbWV9OiB7JGZpZWxkZGVmLnZhbHVlfScsCiAgICAgICAgICAgICAgICBudWxsCiAgICAgICAgICAgICkpOwogICAgICAgICAgICAkc3VtbWFyeV9pZCA9ICR0aGlzLT5kYi0+SW5zZXJ0X0lEKCk7CiAgICAgICAgICAgICR0aGlzLT5maWVsZGRlZl9tYXBbJ3N1bW1hcnknXSA9ICRzdW1tYXJ5X2lkOwogICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snZmllbGRkZWZzJ10rKzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkdGhpcy0+ZmllbGRkZWZfbWFwWydzdW1tYXJ5J10gPSAkc3VtbWFyeV9jaGVjazsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogTWlncmF0ZSBmaWVsZCBkZWZpbml0aW9ucwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gTWlncmF0ZUZpZWxkRGVmcygpCiAgICB7CiAgICAgICAgJHRoaXMtPkxvZygnTWlncmF0aW5nIGZpZWxkIGRlZmluaXRpb25zLi4uJyk7CiAgICAgICAgJGNnYmxvZ19maWVsZHMgPSBEYXRhTWFwcGVyOjpHZXRDR0Jsb2dGaWVsZERlZnMoJHRoaXMtPmRiKTsKICAgICAgICAkZmllbGRkZWZfdGFibGUgPSAkdGhpcy0+dGFibGVfcHJlZml4IC4gJ2ZpZWxkZGVmJzsKICAgICAgICAKICAgICAgICAkZmllbGRkZWZfbWFwID0gYXJyYXkoKTsgLy8gTWFwIG9sZCBJRCB0byBuZXcgSUQKICAgICAgICAkcG9zaXRpb24gPSAxMDsgLy8gU3RhcnQgYWZ0ZXIgZGVmYXVsdCBmaWVsZHMgKENvbnRlbnQ9MSwgU3VtbWFyeT0yKQogICAgICAgIAogICAgICAgIGZvcmVhY2ggKCRjZ2Jsb2dfZmllbGRzIGFzICRmaWVsZCkgewogICAgICAgICAgICAkZGF0YSA9IERhdGFNYXBwZXI6OlByZXBhcmVGaWVsZERlZkRhdGEoJGZpZWxkKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIE1hcCBmaWVsZCB0eXBlIGNvcnJlY3RseQogICAgICAgICAgICAkbGlzZV90eXBlID0gRGF0YU1hcHBlcjo6TWFwRmllbGRUeXBlKCRmaWVsZFsndHlwZSddKTsKICAgICAgICAgICAgLy8gQ29udmVydCB0byBMSVNFIHR5cGUgZm9ybWF0IChUZXh0SW5wdXQsIFRleHRBcmVhLCBldGMuKQogICAgICAgICAgICBpZiAoJGxpc2VfdHlwZSA9PSAndGV4dCcpIHsKICAgICAgICAgICAgICAgICRsaXNlX3R5cGUgPSAnVGV4dElucHV0JzsKICAgICAgICAgICAgfSBlbHNlaWYgKCRsaXNlX3R5cGUgPT0gJ3RleHRhcmVhJykgewogICAgICAgICAgICAgICAgJGxpc2VfdHlwZSA9ICdUZXh0QXJlYSc7CiAgICAgICAgICAgIH0gZWxzZWlmICgkbGlzZV90eXBlID09ICdjaGVja2JveCcpIHsKICAgICAgICAgICAgICAgICRsaXNlX3R5cGUgPSAnQ2hlY2tib3gnOwogICAgICAgICAgICB9IGVsc2VpZiAoJGxpc2VfdHlwZSA9PSAnZmlsZScpIHsKICAgICAgICAgICAgICAgICRsaXNlX3R5cGUgPSAnRmlsZSc7CiAgICAgICAgICAgIH0gZWxzZWlmICgkbGlzZV90eXBlID09ICdpbWFnZScpIHsKICAgICAgICAgICAgICAgICRsaXNlX3R5cGUgPSAnSW1hZ2UnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBJbnNlcnQgZmllbGQgZGVmaW5pdGlvbiB3aXRoIGFsbCByZXF1aXJlZCBjb2x1bW5zCiAgICAgICAgICAgICRxdWVyeSA9ICdJTlNFUlQgSU5UTyAnIC4gJGZpZWxkZGVmX3RhYmxlIC4gJyAobmFtZSwgYWxpYXMsIGhlbHAsIHR5cGUsIHBvc2l0aW9uLCByZXF1aXJlZCwgdGVtcGxhdGUsIGV4dHJhKSBWQUxVRVMgKD8sID8sID8sID8sID8sID8sID8sID8pJzsKICAgICAgICAgICAgJHRoaXMtPmRiLT5FeGVjdXRlKCRxdWVyeSwgYXJyYXkoCiAgICAgICAgICAgICAgICBpc3NldCgkZmllbGRbJ25hbWUnXSkgPyAkZmllbGRbJ25hbWUnXSA6ICRkYXRhWydhbGlhcyddLAogICAgICAgICAgICAgICAgJGRhdGFbJ2FsaWFzJ10sCiAgICAgICAgICAgICAgICBpc3NldCgkZmllbGRbJ2hlbHAnXSkgPyAkZmllbGRbJ2hlbHAnXSA6ICcnLAogICAgICAgICAgICAgICAgJGxpc2VfdHlwZSwKICAgICAgICAgICAgICAgICRwb3NpdGlvbisrLAogICAgICAgICAgICAgICAgMCwgLy8gcmVxdWlyZWQKICAgICAgICAgICAgICAgICd7JGZpZWxkZGVmLm5hbWV9OiB7JGZpZWxkZGVmLnZhbHVlfScsIC8vIHRlbXBsYXRlCiAgICAgICAgICAgICAgICBudWxsIC8vIGV4dHJhCiAgICAgICAgICAgICkpOwogICAgICAgICAgICAKICAgICAgICAgICAgJG5ld19pZCA9ICR0aGlzLT5kYi0+SW5zZXJ0X0lEKCk7CiAgICAgICAgICAgICRmaWVsZGRlZl9tYXBbJGZpZWxkWydpZCddXSA9ICRuZXdfaWQ7CiAgICAgICAgICAgICR0aGlzLT5yZXN1bHRzWydmaWVsZGRlZnMnXSsrOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBNZXJnZSB3aXRoIGRlZmF1bHQgZmllbGRkZWZzCiAgICAgICAgJHRoaXMtPmZpZWxkZGVmX21hcCA9IGFycmF5X21lcmdlKCR0aGlzLT5maWVsZGRlZl9tYXAsICRmaWVsZGRlZl9tYXApOwogICAgICAgICR0aGlzLT5Mb2coJ01pZ3JhdGVkICcgLiBjb3VudCgkZmllbGRkZWZfbWFwKSAuICcgZmllbGQgZGVmaW5pdGlvbnMnLCBmYWxzZSk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogTWlncmF0ZSBhcnRpY2xlcwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gTWlncmF0ZUFydGljbGVzKCRtaWdyYXRlX2NhdGVnb3JpZXMsICRjYXRlZ29yeV9tYXApCiAgICB7CiAgICAgICAgJHRoaXMtPkxvZygnTWlncmF0aW5nIGFydGljbGVzLi4uJyk7CiAgICAgICAgJGNnYmxvZ19hcnRpY2xlcyA9IERhdGFNYXBwZXI6OkdldENHQmxvZ0FydGljbGVzKCR0aGlzLT5kYik7CiAgICAgICAgJGl0ZW1fdGFibGUgPSAkdGhpcy0+dGFibGVfcHJlZml4IC4gJ2l0ZW0nOwogICAgICAgICRpdGVtX2NhdGVnb3J5X3RhYmxlID0gJHRoaXMtPnRhYmxlX3ByZWZpeCAuICdpdGVtX2NhdGVnb3JpZXMnOwogICAgICAgICRmaWVsZHZhbF90YWJsZSA9ICR0aGlzLT50YWJsZV9wcmVmaXggLiAnZmllbGR2YWwnOwogICAgICAgIAogICAgICAgICRhcnRpY2xlX21hcCA9IGFycmF5KCk7IC8vIE1hcCBvbGQgSUQgdG8gbmV3IElECiAgICAgICAgJHBvc2l0aW9uID0gMDsKICAgICAgICAKICAgICAgICBmb3JlYWNoICgkY2dibG9nX2FydGljbGVzIGFzICRhcnRpY2xlKSB7CiAgICAgICAgICAgICRkYXRhID0gRGF0YU1hcHBlcjo6UHJlcGFyZUFydGljbGVEYXRhKCRhcnRpY2xlLCAkdGhpcy0+ZGIpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gSW5zZXJ0IGFydGljbGUgLSB1c2UgY29ycmVjdCBjb2x1bW4gbmFtZXMgYW5kIGV4Y2x1ZGUgZGF0YS9zdW1tYXJ5CiAgICAgICAgICAgICRxdWVyeSA9ICdJTlNFUlQgSU5UTyAnIC4gJGl0ZW1fdGFibGUgLiAnICh0aXRsZSwgdXJsLCBhbGlhcywgcG9zaXRpb24sIGFjdGl2ZSwgY3JlYXRlX3RpbWUsIG1vZGlmaWVkX3RpbWUpIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPyknOwogICAgICAgICAgICAkdGhpcy0+ZGItPkV4ZWN1dGUoJHF1ZXJ5LCBhcnJheSgKICAgICAgICAgICAgICAgICRkYXRhWyd0aXRsZSddLAogICAgICAgICAgICAgICAgJGRhdGFbJ3VybCddLAogICAgICAgICAgICAgICAgJGRhdGFbJ2FsaWFzJ10sCiAgICAgICAgICAgICAgICAkcG9zaXRpb24rKywKICAgICAgICAgICAgICAgICRkYXRhWydhY3RpdmUnXSwKICAgICAgICAgICAgICAgICRkYXRhWydjcmVhdGVfZGF0ZSddLCAvLyBTdGlsbCB1c2UgY3JlYXRlX2RhdGUgZnJvbSBEYXRhTWFwcGVyLCBidXQgaW5zZXJ0IGludG8gY3JlYXRlX3RpbWUKICAgICAgICAgICAgICAgICRkYXRhWydtb2RpZmllZF9kYXRlJ10gLy8gU3RpbGwgdXNlIG1vZGlmaWVkX2RhdGUgZnJvbSBEYXRhTWFwcGVyLCBidXQgaW5zZXJ0IGludG8gbW9kaWZpZWRfdGltZQogICAgICAgICAgICApKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICRuZXdfaWQgPSAkdGhpcy0+ZGItPkluc2VydF9JRCgpOwogICAgICAgICAgICAkYXJ0aWNsZV9tYXBbJGFydGljbGVbJ2NnYmxvZ19pZCddXSA9ICRuZXdfaWQ7CiAgICAgICAgICAgICR0aGlzLT5yZXN1bHRzWydhcnRpY2xlcyddKys7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTdG9yZSBjb250ZW50IGFuZCBzdW1tYXJ5IGFzIGZpZWxkIHZhbHVlcwogICAgICAgICAgICBpZiAoaXNzZXQoJHRoaXMtPmZpZWxkZGVmX21hcFsnY29udGVudCddKSAmJiAhZW1wdHkoJGRhdGFbJ2RhdGEnXSkpIHsKICAgICAgICAgICAgICAgICRxdWVyeSA9ICdJTlNFUlQgSU5UTyAnIC4gJGZpZWxkdmFsX3RhYmxlIC4gJyAoaXRlbV9pZCwgZmllbGRkZWZfaWQsIHZhbHVlX2luZGV4LCB2YWx1ZSkgVkFMVUVTICg/LCA/LCA/LCA/KSc7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZGItPkV4ZWN1dGUoJHF1ZXJ5LCBhcnJheSgKICAgICAgICAgICAgICAgICAgICAkbmV3X2lkLAogICAgICAgICAgICAgICAgICAgICR0aGlzLT5maWVsZGRlZl9tYXBbJ2NvbnRlbnQnXSwKICAgICAgICAgICAgICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgICRkYXRhWydkYXRhJ10KICAgICAgICAgICAgICAgICkpOwogICAgICAgICAgICAgICAgJHRoaXMtPnJlc3VsdHNbJ2ZpZWxkdmFscyddKys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChpc3NldCgkdGhpcy0+ZmllbGRkZWZfbWFwWydzdW1tYXJ5J10pICYmICFlbXB0eSgkZGF0YVsnc3VtbWFyeSddKSkgewogICAgICAgICAgICAgICAgJHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPICcgLiAkZmllbGR2YWxfdGFibGUgLiAnIChpdGVtX2lkLCBmaWVsZGRlZl9pZCwgdmFsdWVfaW5kZXgsIHZhbHVlKSBWQUxVRVMgKD8sID8sID8sID8pJzsKICAgICAgICAgICAgICAgICR0aGlzLT5kYi0+RXhlY3V0ZSgkcXVlcnksIGFycmF5KAogICAgICAgICAgICAgICAgICAgICRuZXdfaWQsCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmZpZWxkZGVmX21hcFsnc3VtbWFyeSddLAogICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgJGRhdGFbJ3N1bW1hcnknXQogICAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snZmllbGR2YWxzJ10rKzsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTWlncmF0ZSBjYXRlZ29yeSByZWxhdGlvbnNoaXBzCiAgICAgICAgICAgIGlmICgkbWlncmF0ZV9jYXRlZ29yaWVzICYmICFlbXB0eSgkY2F0ZWdvcnlfbWFwKSkgewogICAgICAgICAgICAgICAgJGNhdGVnb3JpZXMgPSBEYXRhTWFwcGVyOjpHZXRDR0Jsb2dBcnRpY2xlQ2F0ZWdvcmllcygkdGhpcy0+ZGIsICRhcnRpY2xlWydjZ2Jsb2dfaWQnXSk7CiAgICAgICAgICAgICAgICBmb3JlYWNoICgkY2F0ZWdvcmllcyBhcyAkb2xkX2NhdF9pZCkgewogICAgICAgICAgICAgICAgICAgIGlmIChpc3NldCgkY2F0ZWdvcnlfbWFwWyRvbGRfY2F0X2lkXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5ld19jYXRfaWQgPSAkY2F0ZWdvcnlfbWFwWyRvbGRfY2F0X2lkXTsKICAgICAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5ID0gJ0lOU0VSVCBJTlRPICcgLiAkaXRlbV9jYXRlZ29yeV90YWJsZSAuICcgKGl0ZW1faWQsIGNhdGVnb3J5X2lkKSBWQUxVRVMgKD8sID8pJzsKICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmRiLT5FeGVjdXRlKCRxdWVyeSwgYXJyYXkoJG5ld19pZCwgJG5ld19jYXRfaWQpKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gU3RvcmUgYXJ0aWNsZSBtYXAgZm9yIGZpZWxkIHZhbHVlcwogICAgICAgICR0aGlzLT5hcnRpY2xlX21hcCA9ICRhcnRpY2xlX21hcDsKICAgICAgICAkdGhpcy0+TG9nKCdNaWdyYXRlZCAnIC4gJHRoaXMtPnJlc3VsdHNbJ2FydGljbGVzJ10gLiAnIGFydGljbGVzJywgZmFsc2UpOwogICAgfQogICAgCiAgICAvKioKICAgICAqIE1pZ3JhdGUgZmllbGQgdmFsdWVzCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBNaWdyYXRlRmllbGRWYWxzKCkKICAgIHsKICAgICAgICBpZiAoZW1wdHkoJHRoaXMtPmFydGljbGVfbWFwKSB8fCBlbXB0eSgkdGhpcy0+ZmllbGRkZWZfbWFwKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIAogICAgICAgICR0aGlzLT5Mb2coJ01pZ3JhdGluZyBmaWVsZCB2YWx1ZXMuLi4nKTsKICAgICAgICAkZmllbGR2YWxfdGFibGUgPSAkdGhpcy0+dGFibGVfcHJlZml4IC4gJ2ZpZWxkdmFsJzsKICAgICAgICAKICAgICAgICBmb3JlYWNoICgkdGhpcy0+YXJ0aWNsZV9tYXAgYXMgJG9sZF9hcnRpY2xlX2lkID0+ICRuZXdfYXJ0aWNsZV9pZCkgewogICAgICAgICAgICAkZmllbGR2YWxzID0gRGF0YU1hcHBlcjo6R2V0Q0dCbG9nRmllbGRWYWxzKCR0aGlzLT5kYiwgJG9sZF9hcnRpY2xlX2lkKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGZvcmVhY2ggKCRmaWVsZHZhbHMgYXMgJGZpZWxkdmFsKSB7CiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBmaWVsZGRlZiB3YXMgbWlncmF0ZWQgZnJvbSBDR0Jsb2cgKGJ5IElEKQogICAgICAgICAgICAgICAgaWYgKCFpc3NldCgkdGhpcy0+ZmllbGRkZWZfbWFwWyRmaWVsZHZhbFsnZmllbGRkZWZfaWQnXV0pKSB7CiAgICAgICAgICAgICAgICAgICAgY29udGludWU7IC8vIFNraXAgaWYgZmllbGRkZWYgd2Fzbid0IG1pZ3JhdGVkCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRuZXdfZmllbGRkZWZfaWQgPSAkdGhpcy0+ZmllbGRkZWZfbWFwWyRmaWVsZHZhbFsnZmllbGRkZWZfaWQnXV07CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICRxdWVyeSA9ICdJTlNFUlQgSU5UTyAnIC4gJGZpZWxkdmFsX3RhYmxlIC4gJyAoaXRlbV9pZCwgZmllbGRkZWZfaWQsIHZhbHVlX2luZGV4LCB2YWx1ZSkgVkFMVUVTICg/LCA/LCA/LCA/KSc7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZGItPkV4ZWN1dGUoJHF1ZXJ5LCBhcnJheSgKICAgICAgICAgICAgICAgICAgICAkbmV3X2FydGljbGVfaWQsCiAgICAgICAgICAgICAgICAgICAgJG5ld19maWVsZGRlZl9pZCwKICAgICAgICAgICAgICAgICAgICAwLAogICAgICAgICAgICAgICAgICAgICRmaWVsZHZhbFsndmFsdWUnXQogICAgICAgICAgICAgICAgKSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICR0aGlzLT5yZXN1bHRzWydmaWVsZHZhbHMnXSsrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgICR0aGlzLT5Mb2coJ01pZ3JhdGVkIGZpZWxkIHZhbHVlcycsIGZhbHNlKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgY2F0ZWdvcnkgbWFwCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRDYXRlZ29yeU1hcCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5jYXRlZ29yeV9tYXA7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IGZpZWxkZGVmIG1hcAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gR2V0RmllbGRkZWZNYXAoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+ZmllbGRkZWZfbWFwOwogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCBhcnRpY2xlIG1hcAogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gR2V0QXJ0aWNsZU1hcCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5hcnRpY2xlX21hcDsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBMb2cgbWVzc2FnZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIExvZygkbWVzc2FnZSwgJGF1ZGl0ID0gdHJ1ZSkKICAgIHsKICAgICAgICBpZiAoJHRoaXMtPmxvZ19jYWxsYmFjaykgewogICAgICAgICAgICBjYWxsX3VzZXJfZnVuYygkdGhpcy0+bG9nX2NhbGxiYWNrLCAkbWVzc2FnZSwgJGF1ZGl0KTsKICAgICAgICB9CiAgICB9Cn0K]]></data>
	</file>
	<file>
	  <filename>/lib/class.MigrationEngine.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIE1pZ3JhdGlvbiBFbmdpbmUgQ2xhc3MKICogQ29yZSBtaWdyYXRpb24gbG9naWMgZm9yIENHQmxvZyB0byBMSVNFCiAqLwoKaWYgKCFkZWZpbmVkKCdDTVNfVkVSU0lPTicpKSBleGl0OwoKY2xhc3MgTWlncmF0aW9uRW5naW5lCnsKICAgIHByaXZhdGUgJG1vZHVsZTsKICAgIHByaXZhdGUgJGRiOwogICAgcHJpdmF0ZSAkaW5zdGFuY2VfbmFtZTsKICAgIHByaXZhdGUgJGluc3RhbmNlX2ZyaWVuZGx5bmFtZTsKICAgIHByaXZhdGUgJHVzZV9leGlzdGluZzsKICAgIHByaXZhdGUgJGV4aXN0aW5nX2luc3RhbmNlX2lkOwogICAgcHJpdmF0ZSAkbWlncmF0ZV9hcnRpY2xlczsKICAgIHByaXZhdGUgJG1pZ3JhdGVfY2F0ZWdvcmllczsKICAgIHByaXZhdGUgJG1pZ3JhdGVfZmllbGRkZWZzOwogICAgcHJpdmF0ZSAkbWlncmF0ZV9maWVsZHZhbHM7CiAgICBwcml2YXRlICRyZXN1bHRzOwogICAgcHJpdmF0ZSAkZXJyb3JzOwogICAgcHJpdmF0ZSAkd2FybmluZ3M7CiAgICBwcml2YXRlICRsb2dfZmlsZSA9IG51bGw7CiAgICAKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbW9kdWxlKQogICAgewogICAgICAgICR0aGlzLT5tb2R1bGUgPSAkbW9kdWxlOwogICAgICAgIAogICAgICAgIC8vIERvbid0IGluaXRpYWxpemUgREIgaGVyZSAtIGRvIGl0IGxhemlseSB3aGVuIG5lZWRlZAogICAgICAgICR0aGlzLT5yZXN1bHRzID0gYXJyYXkoCiAgICAgICAgICAgICdhcnRpY2xlcycgPT4gMCwKICAgICAgICAgICAgJ2NhdGVnb3JpZXMnID0+IDAsCiAgICAgICAgICAgICdmaWVsZGRlZnMnID0+IDAsCiAgICAgICAgICAgICdmaWVsZHZhbHMnID0+IDAKICAgICAgICApOwogICAgICAgICR0aGlzLT5lcnJvcnMgPSBhcnJheSgpOwogICAgICAgICR0aGlzLT53YXJuaW5ncyA9IGFycmF5KCk7CiAgICAgICAgJHRoaXMtPmRiID0gbnVsbDsgLy8gSW5pdGlhbGl6ZSBsYXppbHkKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgZGF0YWJhc2UgY29ubmVjdGlvbiAobGF6eSBpbml0aWFsaXphdGlvbikKICAgICAqLwogICAgcHJpdmF0ZSBmdW5jdGlvbiBHZXREYigpCiAgICB7CiAgICAgICAgaWYgKCR0aGlzLT5kYiA9PT0gbnVsbCkgewogICAgICAgICAgICAkdGhpcy0+ZGIgPSBjbXNtcygpLT5HZXREYigpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJHRoaXMtPmRiOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFNldHVwIGxvZ2dpbmcgKGxhenkgaW5pdGlhbGl6YXRpb24pCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gU2V0dXBMb2dnaW5nKCkKICAgIHsKICAgICAgICBpZiAoJHRoaXMtPmxvZ19maWxlID09PSBudWxsKSB7CiAgICAgICAgICAgICRtb2R1bGVfcGF0aCA9ICR0aGlzLT5tb2R1bGUtPkdldE1vZHVsZVBhdGgoKTsKICAgICAgICAgICAgJGxvZ3NfZGlyID0gY21zX2pvaW5fcGF0aCgkbW9kdWxlX3BhdGgsICdsb2dzJyk7CiAgICAgICAgICAgIGlmICghaXNfZGlyKCRsb2dzX2RpcikpIHsKICAgICAgICAgICAgICAgIEBta2RpcigkbG9nc19kaXIsIDA3NTUsIHRydWUpOwogICAgICAgICAgICAgICAgLy8gU2V0IGNvcnJlY3Qgb3duZXJzaGlwIGZvciBsb2dzIGRpcmVjdG9yeQogICAgICAgICAgICAgICAgQGNob3duKCRsb2dzX2RpciwgJ25ld3N0MzkyMicpOwogICAgICAgICAgICAgICAgQGNoZ3JwKCRsb2dzX2RpciwgJ25ld3N0MzkyMicpOwogICAgICAgICAgICB9CiAgICAgICAgICAgICR0aGlzLT5sb2dfZmlsZSA9IGNtc19qb2luX3BhdGgoJGxvZ3NfZGlyLCAnbWlncmF0aW9uXycgLiBkYXRlKCdZLW0tZF9ILWktcycpIC4gJy5sb2cnKTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogU2V0IG1pZ3JhdGlvbiBwYXJhbWV0ZXJzCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBTZXRQYXJhbWV0ZXJzKCRwYXJhbXMpCiAgICB7CiAgICAgICAgJHRoaXMtPmluc3RhbmNlX25hbWUgPSBpc3NldCgkcGFyYW1zWydpbnN0YW5jZV9uYW1lJ10pID8gdHJpbSgkcGFyYW1zWydpbnN0YW5jZV9uYW1lJ10pIDogJyc7CiAgICAgICAgJHRoaXMtPmluc3RhbmNlX2ZyaWVuZGx5bmFtZSA9IGlzc2V0KCRwYXJhbXNbJ2luc3RhbmNlX2ZyaWVuZGx5bmFtZSddKSA/IHRyaW0oJHBhcmFtc1snaW5zdGFuY2VfZnJpZW5kbHluYW1lJ10pIDogJyc7CiAgICAgICAgJHRoaXMtPnVzZV9leGlzdGluZyA9IGlzc2V0KCRwYXJhbXNbJ3VzZV9leGlzdGluZyddKSAmJiAkcGFyYW1zWyd1c2VfZXhpc3RpbmcnXSA9PSAxOwogICAgICAgICR0aGlzLT5leGlzdGluZ19pbnN0YW5jZV9pZCA9IGlzc2V0KCRwYXJhbXNbJ2V4aXN0aW5nX2luc3RhbmNlX2lkJ10pID8gKGludCkkcGFyYW1zWydleGlzdGluZ19pbnN0YW5jZV9pZCddIDogMDsKICAgICAgICAkdGhpcy0+bWlncmF0ZV9hcnRpY2xlcyA9IGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfYXJ0aWNsZXMnXSkgJiYgJHBhcmFtc1snbWlncmF0ZV9hcnRpY2xlcyddID09IDE7CiAgICAgICAgJHRoaXMtPm1pZ3JhdGVfY2F0ZWdvcmllcyA9IGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfY2F0ZWdvcmllcyddKSAmJiAkcGFyYW1zWydtaWdyYXRlX2NhdGVnb3JpZXMnXSA9PSAxOwogICAgICAgICR0aGlzLT5taWdyYXRlX2ZpZWxkZGVmcyA9IGlzc2V0KCRwYXJhbXNbJ21pZ3JhdGVfZmllbGRkZWZzJ10pICYmICRwYXJhbXNbJ21pZ3JhdGVfZmllbGRkZWZzJ10gPT0gMTsKICAgICAgICAkdGhpcy0+bWlncmF0ZV9maWVsZHZhbHMgPSBpc3NldCgkcGFyYW1zWydtaWdyYXRlX2ZpZWxkdmFscyddKSAmJiAkcGFyYW1zWydtaWdyYXRlX2ZpZWxkdmFscyddID09IDE7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogRXhlY3V0ZSBtaWdyYXRpb24KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIEV4ZWN1dGUoKQogICAgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICR0aGlzLT5Mb2coJ1N0YXJ0aW5nIG1pZ3JhdGlvbiBmcm9tIENHQmxvZyB0byBMSVNFLi4uJyk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBWYWxpZGF0ZSBwcmVyZXF1aXNpdGVzCiAgICAgICAgICAgICR2YWxpZGF0b3IgPSBuZXcgTWlncmF0aW9uVmFsaWRhdG9yKCR0aGlzLT5tb2R1bGUpOwogICAgICAgICAgICBpZiAoISR2YWxpZGF0b3ItPlZhbGlkYXRlUHJlcmVxdWlzaXRlcygpKSB7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZXJyb3JzID0gJHZhbGlkYXRvci0+R2V0RXJyb3JzKCk7CiAgICAgICAgICAgICAgICAkZXJyb3JfbXNnID0gaW1wbG9kZSgnLCAnLCAkdGhpcy0+ZXJyb3JzKTsKICAgICAgICAgICAgICAgICR0aGlzLT5Mb2coJ01pZ3JhdGlvbiBmYWlsZWQ6ICcgLiAkZXJyb3JfbXNnKTsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHRhcmdldCBpbnN0YW5jZQogICAgICAgICAgICBpZiAoJHRoaXMtPnVzZV9leGlzdGluZykgewogICAgICAgICAgICAgICAgaWYgKCEkdmFsaWRhdG9yLT5WYWxpZGF0ZUV4aXN0aW5nSW5zdGFuY2UoJHRoaXMtPmV4aXN0aW5nX2luc3RhbmNlX2lkKSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lcnJvcnMgPSAkdmFsaWRhdG9yLT5HZXRFcnJvcnMoKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAkaW5zdGFuY2VzID0gJHRoaXMtPm1vZHVsZS0+R2V0TElTRUluc3RhbmNlcygpOwogICAgICAgICAgICAgICAgZm9yZWFjaCAoJGluc3RhbmNlcyBhcyAkaW5zdCkgewogICAgICAgICAgICAgICAgICAgIGlmICgkaW5zdC0+bW9kdWxlX2lkID09ICR0aGlzLT5leGlzdGluZ19pbnN0YW5jZV9pZCkgewogICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy0+aW5zdGFuY2VfbmFtZSA9IHN0cl9yZXBsYWNlKCdMSVNFJywgJycsICRpbnN0LT5tb2R1bGVfbmFtZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIGFuZCBhdXRvLWdlbmVyYXRlIGluc3RhbmNlIG5hbWUgaWYgZW1wdHkKICAgICAgICAgICAgICAgICR2YWxpZGF0ZWRfbmFtZSA9ICR2YWxpZGF0b3ItPlZhbGlkYXRlSW5zdGFuY2VOYW1lKCR0aGlzLT5pbnN0YW5jZV9uYW1lLCB0cnVlKTsKICAgICAgICAgICAgICAgIGlmICgkdmFsaWRhdGVkX25hbWUgPT09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmVycm9ycyA9ICR2YWxpZGF0b3ItPkdldEVycm9ycygpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8vIFVzZSB2YWxpZGF0ZWQvZ2VuZXJhdGVkIG5hbWUgKG1heSBoYXZlIGJlZW4gYXV0by1nZW5lcmF0ZWQgb3IgbW9kaWZpZWQpCiAgICAgICAgICAgICAgICAkdGhpcy0+aW5zdGFuY2VfbmFtZSA9ICR2YWxpZGF0ZWRfbmFtZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gQXV0by1nZW5lcmF0ZSBmcmllbmRseSBuYW1lIGlmIGVtcHR5CiAgICAgICAgICAgICAgICBpZiAoZW1wdHkoJHRoaXMtPmluc3RhbmNlX2ZyaWVuZGx5bmFtZSkpIHsKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+aW5zdGFuY2VfZnJpZW5kbHluYW1lID0gJ0NHQmxvZyBNaWdyYXRlZCAtICcgLiBkYXRlKCdZLW0tZCBIOmk6cycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBpbnN0YW5jZQogICAgICAgICAgICAgICAgaWYgKCEkdGhpcy0+Q3JlYXRlTElTRUluc3RhbmNlKCkpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICR0aGlzLT53YXJuaW5ncyA9ICR2YWxpZGF0b3ItPkdldFdhcm5pbmdzKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBTdGFydCB0cmFuc2FjdGlvbgogICAgICAgICAgICAkZGIgPSAkdGhpcy0+R2V0RGIoKTsKICAgICAgICAgICAgJGRiLT5TdGFydFRyYW5zKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgJHRhYmxlX3ByZWZpeCA9ICR0aGlzLT5HZXRUYWJsZVByZWZpeCgpOwogICAgICAgICAgICAgICAgJGhhbmRsZXIgPSBuZXcgTWlncmF0aW9uRGF0YUhhbmRsZXIoJHRoaXMtPm1vZHVsZSwgJGRiLCAkdGFibGVfcHJlZml4LCAkdGhpcy0+cmVzdWx0cywgJHRoaXMtPmxvZ19maWxlLCBhcnJheSgkdGhpcywgJ0xvZ0NhbGxiYWNrJykpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgZGVmYXVsdCBmaWVsZCBkZWZpbml0aW9ucyBmaXJzdCAobmVlZGVkIGZvciBjb250ZW50L3N1bW1hcnkpCiAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPm1pZ3JhdGVfYXJ0aWNsZXMpIHsKICAgICAgICAgICAgICAgICAgICAkaGFuZGxlci0+Q3JlYXRlRGVmYXVsdEZpZWxkRGVmcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBNaWdyYXRlIGNhdGVnb3JpZXMgZmlyc3QgKG5lZWRlZCBmb3IgcmVsYXRpb25zaGlwcykKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+bWlncmF0ZV9jYXRlZ29yaWVzKSB7CiAgICAgICAgICAgICAgICAgICAgJGhhbmRsZXItPk1pZ3JhdGVDYXRlZ29yaWVzKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIE1pZ3JhdGUgZmllbGQgZGVmaW5pdGlvbnMKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+bWlncmF0ZV9maWVsZGRlZnMpIHsKICAgICAgICAgICAgICAgICAgICAkaGFuZGxlci0+TWlncmF0ZUZpZWxkRGVmcygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBNaWdyYXRlIGFydGljbGVzCiAgICAgICAgICAgICAgICBpZiAoJHRoaXMtPm1pZ3JhdGVfYXJ0aWNsZXMpIHsKICAgICAgICAgICAgICAgICAgICAkY2F0ZWdvcnlfbWFwID0gJGhhbmRsZXItPkdldENhdGVnb3J5TWFwKCk7CiAgICAgICAgICAgICAgICAgICAgJGhhbmRsZXItPk1pZ3JhdGVBcnRpY2xlcygkdGhpcy0+bWlncmF0ZV9jYXRlZ29yaWVzLCAkY2F0ZWdvcnlfbWFwKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gTWlncmF0ZSBmaWVsZCB2YWx1ZXMKICAgICAgICAgICAgICAgIGlmICgkdGhpcy0+bWlncmF0ZV9maWVsZHZhbHMgJiYgJHRoaXMtPm1pZ3JhdGVfYXJ0aWNsZXMpIHsKICAgICAgICAgICAgICAgICAgICAkaGFuZGxlci0+TWlncmF0ZUZpZWxkVmFscygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBDb21taXQgdHJhbnNhY3Rpb24KICAgICAgICAgICAgICAgICRkYi0+Q29tcGxldGVUcmFucygpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBMb2cgc3VjY2Vzc2Z1bCBtaWdyYXRpb24gd2l0aCBzdGF0aXN0aWNzCiAgICAgICAgICAgICAgICAkc3RhdHNfbXNnID0gc3ByaW50ZigKICAgICAgICAgICAgICAgICAgICAnTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHk6ICVkIGFydGljbGVzLCAlZCBjYXRlZ29yaWVzLCAlZCBmaWVsZCBkZWZpbml0aW9ucywgJWQgZmllbGQgdmFsdWVzIG1pZ3JhdGVkJywKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snYXJ0aWNsZXMnXSwKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snY2F0ZWdvcmllcyddLAogICAgICAgICAgICAgICAgICAgICR0aGlzLT5yZXN1bHRzWydmaWVsZGRlZnMnXSwKICAgICAgICAgICAgICAgICAgICAkdGhpcy0+cmVzdWx0c1snZmllbGR2YWxzJ10KICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAkdGhpcy0+TG9nKCRzdGF0c19tc2cpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgICAgICRkYi0+RmFpbFRyYW5zKCk7CiAgICAgICAgICAgICAgICAkdGhpcy0+ZXJyb3JzW10gPSAkdGhpcy0+bW9kdWxlLT5MYW5nKCdlcnJvcl9taWdyYXRpb25fZmFpbGVkJywgJGUtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgICAgICAkdGhpcy0+TG9nKCdNaWdyYXRpb24gZmFpbGVkOiAnIC4gJGUtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2Vycm9yX21pZ3JhdGlvbl9mYWlsZWQnLCAkZS0+Z2V0TWVzc2FnZSgpKTsKICAgICAgICAgICAgJHRoaXMtPkxvZygnTWlncmF0aW9uIGVycm9yOiAnIC4gJGUtPmdldE1lc3NhZ2UoKSk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQ3JlYXRlIG5ldyBMSVNFIGluc3RhbmNlCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gQ3JlYXRlTElTRUluc3RhbmNlKCkKICAgIHsKICAgICAgICAkdGhpcy0+TG9nKCdDcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZTogJyAuICR0aGlzLT5pbnN0YW5jZV9uYW1lKTsKICAgICAgICAKICAgICAgICAkbGlzZSA9ICR0aGlzLT5tb2R1bGUtPkdldExJU0VNb2R1bGUoKTsKICAgICAgICBpZiAoISRsaXNlKSB7CiAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2Vycm9yX2xpc2Vfbm90X2luc3RhbGxlZCcpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFVzZSBMSVNFIGNsb25lciB0byBjcmVhdGUgaW5zdGFuY2UgZnJvbSBhIGJhc2UgdGVtcGxhdGUKICAgICAgICAvLyBXZSdsbCBjbG9uZSBmcm9tIHRoZSBmaXJzdCBhdmFpbGFibGUgTElTRSBpbnN0YW5jZSwgb3IgY3JlYXRlIGJhc2Ugc3RydWN0dXJlCiAgICAgICAgJGluc3RhbmNlcyA9ICR0aGlzLT5tb2R1bGUtPkdldExJU0VJbnN0YW5jZXMoKTsKICAgICAgICAKICAgICAgICBpZiAoZW1wdHkoJGluc3RhbmNlcykpIHsKICAgICAgICAgICAgLy8gTm8gZXhpc3RpbmcgaW5zdGFuY2VzIC0gd2UgbmVlZCB0byBjcmVhdGUgYmFzZSBzdHJ1Y3R1cmUgbWFudWFsbHkKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5DcmVhdGVMSVNFSW5zdGFuY2VGcm9tU2NyYXRjaCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIENsb25lIGZyb20gZmlyc3QgYXZhaWxhYmxlIGluc3RhbmNlCiAgICAgICAgICAgICRiYXNlX2luc3RhbmNlID0gcmVzZXQoJGluc3RhbmNlcyk7CiAgICAgICAgICAgICRiYXNlX25hbWUgPSAkYmFzZV9pbnN0YW5jZS0+bW9kdWxlX25hbWU7CiAgICAgICAgICAgICRuZXdfbmFtZSA9ICdMSVNFJyAuICR0aGlzLT5pbnN0YW5jZV9uYW1lOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIC8vIExvYWQgTElTRUNsb25lciBjbGFzcwogICAgICAgICAgICAgICAgJGxpc2VfcGF0aCA9IGNtc19qb2luX3BhdGgoY21zbXMoKS0+R2V0Q29uZmlnKClbJ3Jvb3RfcGF0aCddLCAnbW9kdWxlcycsICdMSVNFJywgJ2xpYicsICdjbGFzcy5MSVNFQ2xvbmVyLnBocCcpOwogICAgICAgICAgICAgICAgaWYgKCFmaWxlX2V4aXN0cygkbGlzZV9wYXRoKSkgewogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICdMSVNFQ2xvbmVyIGNsYXNzIG5vdCBmb3VuZCc7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcmVxdWlyZV9vbmNlKCRsaXNlX3BhdGgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkY2xvbmVyID0gbmV3IExJU0VDbG9uZXIoJGJhc2VfbmFtZSwgJG5ld19uYW1lKTsKICAgICAgICAgICAgICAgICRmdWxsX25hbWUgPSAkY2xvbmVyLT5SdW4oKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy8gVXBkYXRlIGluc3RhbmNlIHByZWZlcmVuY2VzCiAgICAgICAgICAgICAgICAkbW9kb3BzID0gY21zbXMoKS0+R2V0TW9kdWxlT3BlcmF0aW9ucygpOwogICAgICAgICAgICAgICAgJG5ld19tb2QgPSAkbW9kb3BzLT5nZXRfbW9kdWxlX2luc3RhbmNlKCRmdWxsX25hbWUsIE5VTEwsIFRSVUUpOwogICAgICAgICAgICAgICAgaWYgKCRuZXdfbW9kKSB7CiAgICAgICAgICAgICAgICAgICAgJG5ld19tb2QtPlNldFByZWZlcmVuY2UoJ2ZyaWVuZGx5bmFtZScsICR0aGlzLT5pbnN0YW5jZV9mcmllbmRseW5hbWUgPzogJHRoaXMtPmluc3RhbmNlX25hbWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAkdGhpcy0+aW5zdGFuY2VfbmFtZSA9IHN0cl9yZXBsYWNlKCdMSVNFJywgJycsICRmdWxsX25hbWUpOwogICAgICAgICAgICAgICAgJHRoaXMtPkxvZygnTElTRSBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogJyAuICRmdWxsX25hbWUpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAgICAgJHRoaXMtPmVycm9yc1tdID0gJHRoaXMtPm1vZHVsZS0+TGFuZygnZXJyb3JfbWlncmF0aW9uX2ZhaWxlZCcsICRlLT5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICAgICAgJHRoaXMtPkxvZygnRmFpbGVkIHRvIGNyZWF0ZSBpbnN0YW5jZTogJyAuICRlLT5nZXRNZXNzYWdlKCkpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIENyZWF0ZSBMSVNFIGluc3RhbmNlIGZyb20gc2NyYXRjaCAoZmFsbGJhY2spCiAgICAgKi8KICAgIHByaXZhdGUgZnVuY3Rpb24gQ3JlYXRlTElTRUluc3RhbmNlRnJvbVNjcmF0Y2goKQogICAgewogICAgICAgIC8vIFRoaXMgaXMgYSBjb21wbGV4IG9wZXJhdGlvbiAtIGZvciBub3csIHdlJ2xsIHJlcXVpcmUgYXQgbGVhc3Qgb25lIExJU0UgaW5zdGFuY2UKICAgICAgICAkdGhpcy0+ZXJyb3JzW10gPSAnQ2Fubm90IGNyZWF0ZSBMSVNFIGluc3RhbmNlOiBObyBiYXNlIExJU0UgaW5zdGFuY2VzIGF2YWlsYWJsZS4gUGxlYXNlIGNyZWF0ZSBhdCBsZWFzdCBvbmUgTElTRSBpbnN0YW5jZSBmaXJzdC4nOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgdGFibGUgcHJlZml4IGZvciBpbnN0YW5jZQogICAgICovCiAgICBwcml2YXRlIGZ1bmN0aW9uIEdldFRhYmxlUHJlZml4KCkKICAgIHsKICAgICAgICAvLyBJZiB1c2luZyBleGlzdGluZyBpbnN0YW5jZSwgZ2V0IHRoZSBhY3R1YWwgbW9kdWxlIG5hbWUKICAgICAgICBpZiAoJHRoaXMtPnVzZV9leGlzdGluZyAmJiAkdGhpcy0+ZXhpc3RpbmdfaW5zdGFuY2VfaWQpIHsKICAgICAgICAgICAgJGxpc2UgPSAkdGhpcy0+bW9kdWxlLT5HZXRMSVNFTW9kdWxlKCk7CiAgICAgICAgICAgIGlmICgkbGlzZSkgewogICAgICAgICAgICAgICAgJGluc3RhbmNlcyA9ICR0aGlzLT5tb2R1bGUtPkdldExJU0VJbnN0YW5jZXMoKTsKICAgICAgICAgICAgICAgIGZvcmVhY2ggKCRpbnN0YW5jZXMgYXMgJGluc3QpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoJGluc3QtPm1vZHVsZV9pZCA9PSAkdGhpcy0+ZXhpc3RpbmdfaW5zdGFuY2VfaWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJGluc3RhbmNlX2FsaWFzID0gc3RydG9sb3dlcigkaW5zdC0+bW9kdWxlX25hbWUpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY21zX2RiX3ByZWZpeCgpIC4gJ21vZHVsZV8nIC4gJGluc3RhbmNlX2FsaWFzIC4gJ18nOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBGb3IgbmV3IGluc3RhbmNlcwogICAgICAgICRpbnN0YW5jZV9hbGlhcyA9IHN0cnRvbG93ZXIoJ0xJU0UnIC4gJHRoaXMtPmluc3RhbmNlX25hbWUpOwogICAgICAgIHJldHVybiBjbXNfZGJfcHJlZml4KCkgLiAnbW9kdWxlXycgLiAkaW5zdGFuY2VfYWxpYXMgLiAnXyc7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogUHVibGljIHdyYXBwZXIgZm9yIExvZyBtZXRob2QgKGZvciBjYWxsYmFjayB1c2FnZSkKICAgICAqIFB1YmxpYyB3cmFwcGVyIGZvciBMb2cgbWV0aG9kIChmb3IgY2FsbGJhY2sgdXNhZ2UpCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBMb2dDYWxsYmFjaygkbWVzc2FnZSwgJGF1ZGl0ID0gdHJ1ZSkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPkxvZygkbWVzc2FnZSwgJGF1ZGl0KTsKICAgIH0KICAgIC8qKgogICAgICogTG9nIG1lc3NhZ2UgdG8gYm90aCBmaWxlIGFuZCBhZG1pbiBsb2cKICAgICAqLwogICAgCiAgICAvKioKICAgICAqLwogICAgcHJvdGVjdGVkIGZ1bmN0aW9uIExvZygkbWVzc2FnZSwgJGF1ZGl0ID0gdHJ1ZSkKICAgIHsKICAgICAgICAkdGhpcy0+U2V0dXBMb2dnaW5nKCk7CiAgICAgICAgJHRpbWVzdGFtcCA9IGRhdGUoJ1ktbS1kIEg6aTpzJyk7CiAgICAgICAgJGxvZ19lbnRyeSA9ICJbJHRpbWVzdGFtcF0gJG1lc3NhZ2UKIjsKICAgICAgICBAZmlsZV9wdXRfY29udGVudHMoJHRoaXMtPmxvZ19maWxlLCAkbG9nX2VudHJ5LCBGSUxFX0FQUEVORCk7CiAgICAgICAgCiAgICAgICAgLy8gQWxzbyBsb2cgdG8gQ01TTVMgQWRtaW4gTG9nCiAgICAgICAgaWYgKCRhdWRpdCAmJiBtZXRob2RfZXhpc3RzKCR0aGlzLT5tb2R1bGUsICdBdWRpdCcpKSB7CiAgICAgICAgICAgICR0aGlzLT5tb2R1bGUtPkF1ZGl0KDAsICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2ZyaWVuZGx5bmFtZScpLCAkbWVzc2FnZSk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCByZXN1bHRzCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRSZXN1bHRzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPnJlc3VsdHM7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IGVycm9ycwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gR2V0RXJyb3JzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmVycm9yczsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgd2FybmluZ3MKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIEdldFdhcm5pbmdzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPndhcm5pbmdzOwogICAgfQp9Cg==]]></data>
	</file>
	<file>
	  <filename>/lib/class.MigrationValidator.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIE1pZ3JhdGlvbiBWYWxpZGF0b3IgQ2xhc3MKICogVmFsaWRhdGVzIHByZXJlcXVpc2l0ZXMgYW5kIGRhdGEgaW50ZWdyaXR5IGJlZm9yZSBtaWdyYXRpb24KICovCgppZiAoIWRlZmluZWQoJ0NNU19WRVJTSU9OJykpIGV4aXQ7CgpjbGFzcyBNaWdyYXRpb25WYWxpZGF0b3IKewogICAgcHJpdmF0ZSAkbW9kdWxlOwogICAgcHJpdmF0ZSAkZXJyb3JzOwogICAgcHJpdmF0ZSAkd2FybmluZ3M7CiAgICAKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdCgkbW9kdWxlKQogICAgewogICAgICAgICR0aGlzLT5tb2R1bGUgPSAkbW9kdWxlOwogICAgICAgICR0aGlzLT5lcnJvcnMgPSBhcnJheSgpOwogICAgICAgICR0aGlzLT53YXJuaW5ncyA9IGFycmF5KCk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVmFsaWRhdGUgYWxsIHByZXJlcXVpc2l0ZXMKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIFZhbGlkYXRlUHJlcmVxdWlzaXRlcygpCiAgICB7CiAgICAgICAgJHRoaXMtPmVycm9ycyA9IGFycmF5KCk7CiAgICAgICAgJHRoaXMtPndhcm5pbmdzID0gYXJyYXkoKTsKICAgICAgICAKICAgICAgICAvLyBDaGVjayBDR0Jsb2cgYXZhaWxhYmlsaXR5CiAgICAgICAgaWYgKCEkdGhpcy0+bW9kdWxlLT5Jc0NHQmxvZ0F2YWlsYWJsZSgpKSB7CiAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2Vycm9yX2NnYmxvZ19ub3RfaW5zdGFsbGVkJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgLy8gQ2hlY2sgTElTRSBhdmFpbGFiaWxpdHkKICAgICAgICBpZiAoISR0aGlzLT5tb2R1bGUtPklzTElTRUF2YWlsYWJsZSgpKSB7CiAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2Vycm9yX2xpc2Vfbm90X2luc3RhbGxlZCcpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIENoZWNrIGZvciBkYXRhCiAgICAgICAgJHN0YXRzID0gJHRoaXMtPm1vZHVsZS0+R2V0Q0dCbG9nU3RhdHMoKTsKICAgICAgICBpZiAoJHN0YXRzWydhcnRpY2xlcyddID09IDAgJiYgJHN0YXRzWydjYXRlZ29yaWVzJ10gPT0gMCAmJiAkc3RhdHNbJ2ZpZWxkZGVmcyddID09IDApIHsKICAgICAgICAgICAgJHRoaXMtPmVycm9yc1tdID0gJHRoaXMtPm1vZHVsZS0+TGFuZygnZXJyb3Jfbm9fZGF0YScpOwogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vIFdhcm5pbmdzIGZvciBtaXNzaW5nIGRhdGEgdHlwZXMKICAgICAgICBpZiAoJHN0YXRzWydhcnRpY2xlcyddID09IDApIHsKICAgICAgICAgICAgJHRoaXMtPndhcm5pbmdzW10gPSAkdGhpcy0+bW9kdWxlLT5MYW5nKCd3YXJuaW5nX25vX2FydGljbGVzJyk7CiAgICAgICAgfQogICAgICAgIGlmICgkc3RhdHNbJ2NhdGVnb3JpZXMnXSA9PSAwKSB7CiAgICAgICAgICAgICR0aGlzLT53YXJuaW5nc1tdID0gJHRoaXMtPm1vZHVsZS0+TGFuZygnd2FybmluZ19ub19jYXRlZ29yaWVzJyk7CiAgICAgICAgfQogICAgICAgIGlmICgkc3RhdHNbJ2ZpZWxkZGVmcyddID09IDApIHsKICAgICAgICAgICAgJHRoaXMtPndhcm5pbmdzW10gPSAkdGhpcy0+bW9kdWxlLT5MYW5nKCd3YXJuaW5nX25vX2ZpZWxkZGVmcycpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBWYWxpZGF0ZSBpbnN0YW5jZSBuYW1lIGFuZCBnZW5lcmF0ZSBkZWZhdWx0IGlmIGVtcHR5CiAgICAgKiBSZXR1cm5zIHRoZSB2YWxpZGF0ZWQvZ2VuZXJhdGVkIGluc3RhbmNlIG5hbWUgb3IgZmFsc2Ugb24gZXJyb3IKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIFZhbGlkYXRlSW5zdGFuY2VOYW1lKCRpbnN0YW5jZV9uYW1lLCAkY2hlY2tfZXhpc3RzID0gdHJ1ZSkKICAgIHsKICAgICAgICAvLyBHZW5lcmF0ZSBkZWZhdWx0IG5hbWUgaWYgZW1wdHkKICAgICAgICBpZiAoZW1wdHkoJGluc3RhbmNlX25hbWUpKSB7CiAgICAgICAgICAgICRpbnN0YW5jZV9uYW1lID0gJHRoaXMtPkdlbmVyYXRlRGVmYXVsdEluc3RhbmNlTmFtZSgpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDaGVjayBmb3IgdmFsaWQgY2hhcmFjdGVycyAoYWxwaGFudW1lcmljIG9ubHkpCiAgICAgICAgaWYgKCFwcmVnX21hdGNoKCcvXlthLXpBLVowLTldKyQvJywgJGluc3RhbmNlX25hbWUpKSB7CiAgICAgICAgICAgICR0aGlzLT5lcnJvcnNbXSA9ICR0aGlzLT5tb2R1bGUtPkxhbmcoJ2Vycm9yX2luc3RhbmNlX2ludmFsaWQnKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgICAKICAgICAgICAvLyBDaGVjayBpZiBpbnN0YW5jZSBhbHJlYWR5IGV4aXN0cyBhbmQgZmluZCBhdmFpbGFibGUgbmFtZQogICAgICAgIGlmICgkY2hlY2tfZXhpc3RzKSB7CiAgICAgICAgICAgICRsaXNlID0gJHRoaXMtPm1vZHVsZS0+R2V0TElTRU1vZHVsZSgpOwogICAgICAgICAgICBpZiAoJGxpc2UpIHsKICAgICAgICAgICAgICAgICRpbnN0YW5jZXMgPSAkdGhpcy0+bW9kdWxlLT5HZXRMSVNFSW5zdGFuY2VzKCk7CiAgICAgICAgICAgICAgICAkY291bnRlciA9IDE7CiAgICAgICAgICAgICAgICAkb3JpZ2luYWxfbmFtZSA9ICRpbnN0YW5jZV9uYW1lOwogICAgICAgICAgICAgICAgJHZhbGlkYXRlZF9uYW1lID0gJGluc3RhbmNlX25hbWU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vIElmIG5hbWUgZXhpc3RzLCBhcHBlbmQgbnVtYmVyIHVudGlsIHdlIGZpbmQgYXZhaWxhYmxlIG5hbWUKICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgJG5hbWVfZXhpc3RzID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgZm9yZWFjaCAoJGluc3RhbmNlcyBhcyAkaW5zdGFuY2UpIHsKICAgICAgICAgICAgICAgICAgICAgICAgJG5hbWUgPSBzdHJfcmVwbGFjZSgnTElTRScsICcnLCAkaW5zdGFuY2UtPm1vZHVsZV9uYW1lKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cnRvbG93ZXIoJG5hbWUpID09IHN0cnRvbG93ZXIoJHZhbGlkYXRlZF9uYW1lKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJG5hbWVfZXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIGlmICghJG5hbWVfZXhpc3RzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAvLyBOYW1lIGV4aXN0cywgdHJ5IHdpdGggY291bnRlcgogICAgICAgICAgICAgICAgICAgICR2YWxpZGF0ZWRfbmFtZSA9ICRvcmlnaW5hbF9uYW1lIC4gJGNvdW50ZXI7CiAgICAgICAgICAgICAgICAgICAgJGNvdW50ZXIrKzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmV0dXJuICR2YWxpZGF0ZWRfbmFtZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gJGluc3RhbmNlX25hbWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2VuZXJhdGUgZGVmYXVsdCBpbnN0YW5jZSBuYW1lCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZW5lcmF0ZURlZmF1bHRJbnN0YW5jZU5hbWUoKQogICAgewogICAgICAgIC8vIEdlbmVyYXRlIG5hbWUgYmFzZWQgb24gQ0dCbG9nIGFuZCB0aW1lc3RhbXAKICAgICAgICAkYmFzZV9uYW1lID0gJ0NHQmxvZ01pZ3JhdGVkJzsKICAgICAgICAkdGltZXN0YW1wID0gZGF0ZSgnWW1kSGlzJyk7CiAgICAgICAgcmV0dXJuICRiYXNlX25hbWUgLiAkdGltZXN0YW1wOwogICAgfQogICAgCiAgICAvKioKICAgICAqIFZhbGlkYXRlIGV4aXN0aW5nIGluc3RhbmNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBWYWxpZGF0ZUV4aXN0aW5nSW5zdGFuY2UoJGluc3RhbmNlX2lkKQogICAgewogICAgICAgICRsaXNlID0gJHRoaXMtPm1vZHVsZS0+R2V0TElTRU1vZHVsZSgpOwogICAgICAgIGlmICghJGxpc2UpIHsKICAgICAgICAgICAgJHRoaXMtPmVycm9yc1tdID0gJHRoaXMtPm1vZHVsZS0+TGFuZygnZXJyb3JfbGlzZV9ub3RfaW5zdGFsbGVkJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgJGluc3RhbmNlcyA9ICR0aGlzLT5tb2R1bGUtPkdldExJU0VJbnN0YW5jZXMoKTsKICAgICAgICAkZm91bmQgPSBmYWxzZTsKICAgICAgICBmb3JlYWNoICgkaW5zdGFuY2VzIGFzICRpbnN0YW5jZSkgewogICAgICAgICAgICBpZiAoJGluc3RhbmNlLT5tb2R1bGVfaWQgPT0gJGluc3RhbmNlX2lkKSB7CiAgICAgICAgICAgICAgICAkZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKCEkZm91bmQpIHsKICAgICAgICAgICAgJHRoaXMtPmVycm9yc1tdID0gJHRoaXMtPm1vZHVsZS0+TGFuZygnZXJyb3JfaW5zdGFuY2Vfbm90X2ZvdW5kJyk7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IGVycm9ycwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gR2V0RXJyb3JzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmVycm9yczsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBHZXQgd2FybmluZ3MKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIEdldFdhcm5pbmdzKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPndhcm5pbmdzOwogICAgfQogICAgCiAgICAvKioKICAgICAqIENoZWNrIGlmIHZhbGlkYXRpb24gcGFzc2VkCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBJc1ZhbGlkKCkKICAgIHsKICAgICAgICByZXR1cm4gZW1wdHkoJHRoaXMtPmVycm9ycyk7CiAgICB9Cn0KCg==]]></data>
	</file>
	<file>
	  <filename>/logs/</filename>
	  <isdir>1</isdir>
	</file>
	<file>
	  <filename>/logs/migration_2025-11-28_00-46-48.log</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[WzIwMjUtMTEtMjggMDA6NDY6NDhdIFN0YXJ0aW5nIG1pZ3JhdGlvbiBmcm9tIENHQmxvZyB0byBMSVNFLi4uClsyMDI1LTExLTI4IDAwOjQ2OjQ4XSBDcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZTogQ0dCbG9nTWlncmF0ZWQyMDI1MTEyODAwNDY0OApbMjAyNS0xMS0yOCAwMDo0Njo1MF0gTElTRSBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogTElTRUNHQmxvZ01pZ3JhdGVkMjAyNTExMjgwMDQ2NDgKWzIwMjUtMTEtMjggMDA6NDY6NTBdIE1pZ3JhdGluZyBjYXRlZ29yaWVzLi4uClsyMDI1LTExLTI4IDAwOjQ2OjUwXSBNaWdyYXRlZCAxIGNhdGVnb3JpZXMKWzIwMjUtMTEtMjggMDA6NDY6NTBdIE1pZ3JhdGluZyBmaWVsZCBkZWZpbml0aW9ucy4uLgpbMjAyNS0xMS0yOCAwMDo0Njo1MF0gTWlncmF0ZWQgMCBmaWVsZCBkZWZpbml0aW9ucwpbMjAyNS0xMS0yOCAwMDo0Njo1MF0gTWlncmF0aW5nIGFydGljbGVzLi4uClsyMDI1LTExLTI4IDAwOjQ2OjUwXSBNaWdyYXRlZCAxIGFydGljbGVzClsyMDI1LTExLTI4IDAwOjQ2OjUwXSBNaWdyYXRpbmcgZmllbGQgdmFsdWVzLi4uClsyMDI1LTExLTI4IDAwOjQ2OjUwXSBNaWdyYXRlZCAwIGZpZWxkIHZhbHVlcwpbMjAyNS0xMS0yOCAwMDo0Njo1MF0gTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHk6IDEgYXJ0aWNsZXMsIDEgY2F0ZWdvcmllcywgMCBmaWVsZCBkZWZpbml0aW9ucywgMCBmaWVsZCB2YWx1ZXMgbWlncmF0ZWQK]]></data>
	</file>
	<file>
	  <filename>/logs/migration_2026-01-06_00-16-01.log</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[WzIwMjYtMDEtMDYgMDA6MTY6MDFdIFN0YXJ0aW5nIG1pZ3JhdGlvbiBmcm9tIENHQmxvZyB0byBMSVNFLi4uClsyMDI2LTAxLTA2IDAwOjE2OjAxXSBDcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZTogQ0dCbG9nTWlncmF0ZWQyMDI2MDEwNjAwMTYwMQpbMjAyNi0wMS0wNiAwMDoxNjowNF0gTElTRSBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogTElTRUNHQmxvZ01pZ3JhdGVkMjAyNjAxMDYwMDE2MDEKWzIwMjYtMDEtMDYgMDA6MTY6MDRdIE1pZ3JhdGluZyBjYXRlZ29yaWVzLi4uClsyMDI2LTAxLTA2IDAwOjE2OjA0XSBNaWdyYXRlZCAxIGNhdGVnb3JpZXMKWzIwMjYtMDEtMDYgMDA6MTY6MDRdIE1pZ3JhdGluZyBmaWVsZCBkZWZpbml0aW9ucy4uLgpbMjAyNi0wMS0wNiAwMDoxNjowNF0gTWlncmF0ZWQgMCBmaWVsZCBkZWZpbml0aW9ucwpbMjAyNi0wMS0wNiAwMDoxNjowNF0gTWlncmF0aW5nIGFydGljbGVzLi4uClsyMDI2LTAxLTA2IDAwOjE2OjA0XSBNaWdyYXRlZCAxIGFydGljbGVzClsyMDI2LTAxLTA2IDAwOjE2OjA0XSBNaWdyYXRpbmcgZmllbGQgdmFsdWVzLi4uClsyMDI2LTAxLTA2IDAwOjE2OjA0XSBNaWdyYXRlZCAwIGZpZWxkIHZhbHVlcwpbMjAyNi0wMS0wNiAwMDoxNjowNF0gTWlncmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHk6IDEgYXJ0aWNsZXMsIDEgY2F0ZWdvcmllcywgMCBmaWVsZCBkZWZpbml0aW9ucywgMCBmaWVsZCB2YWx1ZXMgbWlncmF0ZWQK]]></data>
	</file>
	<file>
	  <filename>/logs/migration_2026-01-06_01-07-07.log</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[WzIwMjYtMDEtMDYgMDE6MDc6MDddIFN0YXJ0aW5nIG1pZ3JhdGlvbiBmcm9tIENHQmxvZyB0byBMSVNFLi4uClsyMDI2LTAxLTA2IDAxOjA3OjA3XSBDcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZTogQ0dCbG9nTWlncmF0ZWQyMDI2MDEwNjAxMDcwNwpbMjAyNi0wMS0wNiAwMTowNzowOF0gTElTRSBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogTElTRUNHQmxvZ01pZ3JhdGVkMjAyNjAxMDYwMTA3MDcK]]></data>
	</file>
	<file>
	  <filename>/logs/migration_2026-01-06_01-13-18.log</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[WzIwMjYtMDEtMDYgMDE6MTM6MThdIFN0YXJ0aW5nIG1pZ3JhdGlvbiBmcm9tIENHQmxvZyB0byBMSVNFLi4uClsyMDI2LTAxLTA2IDAxOjEzOjE4XSBDcmVhdGluZyBuZXcgTElTRSBpbnN0YW5jZTogQ0dCbG9nTWlncmF0ZWQyMDI2MDEwNjAxMTMxOApbMjAyNi0wMS0wNiAwMToxMzoxOV0gTElTRSBpbnN0YW5jZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseTogTElTRUNHQmxvZ01pZ3JhdGVkMjAyNjAxMDYwMTEzMTgKWzIwMjYtMDEtMDYgMDE6MTM6MTldIE1pZ3JhdGluZyBjYXRlZ29yaWVzLi4uClsyMDI2LTAxLTA2IDAxOjEzOjE5XSBNaWdyYXRlZCAxIGNhdGVnb3JpZXMKWzIwMjYtMDEtMDYgMDE6MTM6MTldIE1pZ3JhdGluZyBmaWVsZCBkZWZpbml0aW9ucy4uLgpbMjAyNi0wMS0wNiAwMToxMzoxOV0gTWlncmF0ZWQgMCBmaWVsZCBkZWZpbml0aW9ucwpbMjAyNi0wMS0wNiAwMToxMzoxOV0gTWlncmF0aW5nIGFydGljbGVzLi4uClsyMDI2LTAxLTA2IDAxOjEzOjE5XSBNaWdyYXRlZCAxIGFydGljbGVzClsyMDI2LTAxLTA2IDAxOjEzOjE5XSBNaWdyYXRpbmcgZmllbGQgdmFsdWVzLi4uClsyMDI2LTAxLTA2IDAxOjEzOjE5XSBNaWdyYXRlZCBmaWVsZCB2YWx1ZXMKWzIwMjYtMDEtMDYgMDE6MTM6MTldIE1pZ3JhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5OiAxIGFydGljbGVzLCAxIGNhdGVnb3JpZXMsIDIgZmllbGQgZGVmaW5pdGlvbnMsIDIgZmllbGQgdmFsdWVzIG1pZ3JhdGVkCg==]]></data>
	</file>
	<file>
	  <filename>/MAS_CGBlogToLISE.module.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIE1BU19DR0Jsb2dUb0xJU0UgTW9kdWxlIGZvciBDTVNNUwogKiAKICogTWlncmF0ZXMgZGF0YSBmcm9tIENHQmxvZyBtb2R1bGUgdG8gTElTRSBpbnN0YW5jZXMKICogCiAqIEBwYWNrYWdlIE1BU19DR0Jsb2dUb0xJU0UKICogQGF1dGhvciBtYXN0ZXIzMzk1CiAqIEBjb3B5cmlnaHQgMjAyNSBtYXN0ZXIzMzk1CiAqIEBsaWNlbnNlIEdQTCB2MwogKiBAdmVyc2lvbiAxLjAuMAogKi8KCmlmICghZnVuY3Rpb25fZXhpc3RzKCdjbXNtcycpKSBleGl0OwoKY2xhc3MgTUFTX0NHQmxvZ1RvTElTRSBleHRlbmRzIENNU01vZHVsZQp7CiAgICAvLyBQcmVmZXJlbmNlIGNvbnN0YW50cwogICAgY29uc3QgUFJFRl9GUklFTkRMWU5BTUUgPSAnZnJpZW5kbHluYW1lJzsKICAgIGNvbnN0IFBSRUZfU0hPV19ET05BVElPTlMgPSAnbWFzX3Nob3dfZG9uYXRpb25zJzsKICAgIGNvbnN0IFBSRUZfQURNSU5fU0VDVElPTiA9ICdtYXNfY2dibG9ndG9saXNlX2FkbWluX3NlY3Rpb24nOwogICAgCiAgICBmdW5jdGlvbiBHZXROYW1lKCkgeyAKICAgICAgICByZXR1cm4gJ01BU19DR0Jsb2dUb0xJU0UnOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0RnJpZW5kbHlOYW1lKCkgeyAKICAgICAgICAkZnJpZW5kbHluYW1lID0gdHJpbSgkdGhpcy0+R2V0UHJlZmVyZW5jZShzZWxmOjpQUkVGX0ZSSUVORExZTkFNRSkpOwogICAgICAgIGlmICghJGZyaWVuZGx5bmFtZSkgewogICAgICAgICAgICAkZnJpZW5kbHluYW1lID0gJHRoaXMtPkxhbmcoJ2ZyaWVuZGx5bmFtZScpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gJGZyaWVuZGx5bmFtZTsgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEdldFZlcnNpb24oKSB7IAogICAgICAgIHJldHVybiAnMS4wLjEnOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gTWluaW11bUNNU1ZlcnNpb24oKSB7IAogICAgICAgIHJldHVybiAnMi4yLjAnOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0QXV0aG9yKCkgeyAKICAgICAgICByZXR1cm4gJ21hc3RlcjMzOTUnOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0QXV0aG9yRW1haWwoKSB7IAogICAgICAgIHJldHVybiAnaW5mb0BuZXdzdGFyZ2V0ZWQuY29tJzsgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEdldENoYW5nZUxvZygpIHsgCiAgICAgICAgcmV0dXJuICR0aGlzLT5MYW5nKCdjaGFuZ2Vsb2cnKTsgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEdldEhlbHAoKSB7IAogICAgICAgIHJldHVybiAkdGhpcy0+TGFuZygnaGVscCcpOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0QWRtaW5EZXNjcmlwdGlvbigpIHsgCiAgICAgICAgcmV0dXJuICR0aGlzLT5MYW5nKCdtb2RkZXNjcmlwdGlvbicpOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gSXNQbHVnaW5Nb2R1bGUoKSB7IAogICAgICAgIHJldHVybiB0cnVlOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gSGFzQWRtaW4oKSB7IAogICAgICAgIHJldHVybiB0cnVlOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gR2V0QWRtaW5TZWN0aW9uKCkgewogICAgICAgIC8vIFVzZSBwcmVmZXJlbmNlIHdpdGggZGVmYXVsdCAnZXh0ZW5zaW9ucycKICAgICAgICAkZGVmYXVsdCA9ICdleHRlbnNpb25zJzsKICAgICAgICAkY29uZmlnID0gY21zX3V0aWxzOjpnZXRfY29uZmlnKCk7CiAgICAgICAgaWYgKGlzc2V0KCRjb25maWdbJ21hc19jZ2Jsb2d0b2xpc2VfZGVmYXVsdF9hZG1pbl9zZWN0aW9uJ10pKSB7CiAgICAgICAgICAgICRkZWZhdWx0ID0gJGNvbmZpZ1snbWFzX2NnYmxvZ3RvbGlzZV9kZWZhdWx0X2FkbWluX3NlY3Rpb24nXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuICR0aGlzLT5HZXRQcmVmZXJlbmNlKHNlbGY6OlBSRUZfQURNSU5fU0VDVElPTiwgJGRlZmF1bHQpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBMYXp5TG9hZEZyb250ZW5kKCkgeyAKICAgICAgICByZXR1cm4gdHJ1ZTsgCiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIExhenlMb2FkQWRtaW4oKSB7IAogICAgICAgIHJldHVybiB0cnVlOyAKICAgIH0KICAgIAogICAgZnVuY3Rpb24gQWxsb3dTbWFydHlDYWNoaW5nKCkgeyAKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgICAKICAgIGZ1bmN0aW9uIEluaXRpYWxpemVGcm9udGVuZCgpCiAgICB7CiAgICAgICAgJHRoaXMtPlJlc3RyaWN0VW5rbm93blBhcmFtcygpOwogICAgfQogICAgCiAgICBmdW5jdGlvbiBJbml0aWFsaXplQWRtaW4oKQogICAgewogICAgICAgICR0aGlzLT5DcmVhdGVQYXJhbWV0ZXIoJ2FjdGlvbicsICdkZWZhdWx0YWRtaW4nLCAnQWN0aW9uIHRvIHBlcmZvcm0nKTsKICAgIH0KICAgIAogICAgZnVuY3Rpb24gVmlzaWJsZVRvQWRtaW5Vc2VyKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPkNoZWNrUGVybWlzc2lvbignTW9kaWZ5IFNpdGUgUHJlZmVyZW5jZXMnKTsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBDaGVjayBpZiBDR0Jsb2cgbW9kdWxlIGlzIGluc3RhbGxlZCBhbmQgYXZhaWxhYmxlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBJc0NHQmxvZ0F2YWlsYWJsZSgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJG1vZG9wcyA9IGNtc21zKCktPkdldE1vZHVsZU9wZXJhdGlvbnMoKTsKICAgICAgICAgICAgJGluc3RhbGxlZCA9ICRtb2RvcHMtPkdldEluc3RhbGxlZE1vZHVsZXMoKTsKICAgICAgICAgICAgcmV0dXJuIGluX2FycmF5KCdDR0Jsb2cnLCAkaW5zdGFsbGVkKTsKICAgICAgICB9IGNhdGNoIChFeGNlcHRpb24gJGUpIHsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gY2F0Y2ggKEVycm9yICRlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICB9CiAgICAKICAgIC8qKgogICAgICogQ2hlY2sgaWYgTElTRSBtb2R1bGUgaXMgaW5zdGFsbGVkIGFuZCBhdmFpbGFibGUKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIElzTElTRUF2YWlsYWJsZSgpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJG1vZG9wcyA9IGNtc21zKCktPkdldE1vZHVsZU9wZXJhdGlvbnMoKTsKICAgICAgICAgICAgJGluc3RhbGxlZCA9ICRtb2RvcHMtPkdldEluc3RhbGxlZE1vZHVsZXMoKTsKICAgICAgICAgICAgcmV0dXJuIGluX2FycmF5KCdMSVNFJywgJGluc3RhbGxlZCk7CiAgICAgICAgfSBjYXRjaCAoRXhjZXB0aW9uICRlKSB7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGNhdGNoIChFcnJvciAkZSkgewogICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCBDR0Jsb2cgbW9kdWxlIGluc3RhbmNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRDR0Jsb2dNb2R1bGUoKQogICAgewogICAgICAgIGlmICghJHRoaXMtPklzQ0dCbG9nQXZhaWxhYmxlKCkpIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjbXNtcygpLT5HZXRNb2R1bGVJbnN0YW5jZSgnQ0dCbG9nJyk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IExJU0UgbW9kdWxlIGluc3RhbmNlCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRMSVNFTW9kdWxlKCkKICAgIHsKICAgICAgICBpZiAoISR0aGlzLT5Jc0xJU0VBdmFpbGFibGUoKSkgewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNtc21zKCktPkdldE1vZHVsZUluc3RhbmNlKCdMSVNFJyk7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogR2V0IGxpc3Qgb2YgYXZhaWxhYmxlIExJU0UgaW5zdGFuY2VzCiAgICAgKi8KICAgIHB1YmxpYyBmdW5jdGlvbiBHZXRMSVNFSW5zdGFuY2VzKCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICBpZiAoISR0aGlzLT5Jc0xJU0VBdmFpbGFibGUoKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgICRsaXNlID0gJHRoaXMtPkdldExJU0VNb2R1bGUoKTsKICAgICAgICAgICAgaWYgKCEkbGlzZSB8fCAhaXNfb2JqZWN0KCRsaXNlKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIGlmICghbWV0aG9kX2V4aXN0cygkbGlzZSwgJ0xpc3RNb2R1bGVzJykpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhcnJheSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAkcmVzdWx0ID0gJGxpc2UtPkxpc3RNb2R1bGVzKCk7CiAgICAgICAgICAgIHJldHVybiBpc19hcnJheSgkcmVzdWx0KSA/ICRyZXN1bHQgOiBhcnJheSgpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICB9IGNhdGNoIChFcnJvciAkZSkgewogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgJGUpIHsKICAgICAgICAgICAgcmV0dXJuIGFycmF5KCk7CiAgICAgICAgfQogICAgfQogICAgCiAgICAvKioKICAgICAqIEdldCBDR0Jsb2cgc3RhdGlzdGljcwogICAgICovCiAgICBwdWJsaWMgZnVuY3Rpb24gR2V0Q0dCbG9nU3RhdHMoKQogICAgewogICAgICAgICRzdGF0cyA9IGFycmF5KAogICAgICAgICAgICAnYXJ0aWNsZXMnID0+IDAsCiAgICAgICAgICAgICdjYXRlZ29yaWVzJyA9PiAwLAogICAgICAgICAgICAnZmllbGRkZWZzJyA9PiAwLAogICAgICAgICAgICAnZmllbGR2YWxzJyA9PiAwCiAgICAgICAgKTsKICAgICAgICAKICAgICAgICBpZiAoISR0aGlzLT5Jc0NHQmxvZ0F2YWlsYWJsZSgpKSB7CiAgICAgICAgICAgIHJldHVybiAkc3RhdHM7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRkYiA9IGNtc21zKCktPkdldERiKCk7CiAgICAgICAgICAgIGlmICghJGRiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRzOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICAkc3RhdHNbJ2FydGljbGVzJ10gPSAoaW50KSRkYi0+R2V0T25lKCdTRUxFQ1QgQ09VTlQoKikgRlJPTSAnIC4gY21zX2RiX3ByZWZpeCgpIC4gJ21vZHVsZV9jZ2Jsb2cnKTsKICAgICAgICAgICAgJHN0YXRzWydjYXRlZ29yaWVzJ10gPSAoaW50KSRkYi0+R2V0T25lKCdTRUxFQ1QgQ09VTlQoKikgRlJPTSAnIC4gY21zX2RiX3ByZWZpeCgpIC4gJ21vZHVsZV9jZ2Jsb2dfY2F0ZWdvcmllcycpOwogICAgICAgICAgICAkc3RhdHNbJ2ZpZWxkZGVmcyddID0gKGludCkkZGItPkdldE9uZSgnU0VMRUNUIENPVU5UKCopIEZST00gJyAuIGNtc19kYl9wcmVmaXgoKSAuICdtb2R1bGVfY2dibG9nX2ZpZWxkZGVmcycpOwogICAgICAgICAgICAkc3RhdHNbJ2ZpZWxkdmFscyddID0gKGludCkkZGItPkdldE9uZSgnU0VMRUNUIENPVU5UKCopIEZST00gJyAuIGNtc19kYl9wcmVmaXgoKSAuICdtb2R1bGVfY2dibG9nX2ZpZWxkdmFscycpOwogICAgICAgIH0gY2F0Y2ggKEV4Y2VwdGlvbiAkZSkgewogICAgICAgICAgICAvLyBSZXR1cm4gZW1wdHkgc3RhdHMgb24gZXJyb3IKICAgICAgICB9IGNhdGNoIChFcnJvciAkZSkgewogICAgICAgICAgICAvLyBSZXR1cm4gZW1wdHkgc3RhdHMgb24gZXJyb3IKICAgICAgICB9IGNhdGNoIChUaHJvd2FibGUgJGUpIHsKICAgICAgICAgICAgLy8gUmV0dXJuIGVtcHR5IHN0YXRzIG9uIGVycm9yCiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiAkc3RhdHM7CiAgICB9CiAgICAKICAgIC8qKgogICAgICogVmFsaWRhdGUgbWlncmF0aW9uIHByZXJlcXVpc2l0ZXMKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIFZhbGlkYXRlTWlncmF0aW9uUHJlcmVxdWlzaXRlcygpCiAgICB7CiAgICAgICAgJGVycm9ycyA9IGFycmF5KCk7CiAgICAgICAgCiAgICAgICAgaWYgKCEkdGhpcy0+SXNDR0Jsb2dBdmFpbGFibGUoKSkgewogICAgICAgICAgICAkZXJyb3JzW10gPSAkdGhpcy0+TGFuZygnZXJyb3JfY2dibG9nX25vdF9pbnN0YWxsZWQnKTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKCEkdGhpcy0+SXNMSVNFQXZhaWxhYmxlKCkpIHsKICAgICAgICAgICAgJGVycm9yc1tdID0gJHRoaXMtPkxhbmcoJ2Vycm9yX2xpc2Vfbm90X2luc3RhbGxlZCcpOwogICAgICAgIH0KICAgICAgICAKICAgICAgICByZXR1cm4gJGVycm9yczsKICAgIH0KICAgIAogICAgLyoqCiAgICAgKiBTaG93IGRvbmF0aW9ucyB0YWIKICAgICAqLwogICAgZnVuY3Rpb24gU2hvd0RvbmF0aW9uc1RhYigpIHsKICAgICAgICByZXR1cm4gKCR0aGlzLT5HZXRQcmVmZXJlbmNlKCJoaWRlZG9uYXRpb25zdGFiIikgIT0gJHRoaXMtPkdldFZlcnNpb24oKSk7CiAgICB9Cn0KCg==]]></data>
	</file>
	<file>
	  <filename>/method.install.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIEluc3RhbGxhdGlvbiBNZXRob2QgZm9yIE1BU19DR0Jsb2dUb0xJU0UKICogQ29tcGF0aWJsZSB3aXRoIFBIUCA3LjQtOC42CiAqLwoKaWYgKCFmdW5jdGlvbl9leGlzdHMoJ2Ntc21zJykpIGV4aXQ7CgovLyBSZWdpc3RlciBhcyBwbHVnaW4gbW9kdWxlCiR0aGlzLT5SZWdpc3Rlck1vZHVsZVBsdWdpbih0cnVlKTsKCi8vIENyZWF0ZSBwZXJtaXNzaW9uCiR0aGlzLT5DcmVhdGVQZXJtaXNzaW9uKCdVc2UgTUFTX0NHQmxvZ1RvTElTRScsICdVc2UgTUFTIENHQmxvZyB0byBMSVNFIE1pZ3JhdGlvbiBtb2R1bGUnKTsKCi8vIEdyYW50IHBlcm1pc3Npb24gdG8gQWRtaW4gZ3JvdXAgKGdyb3VwX2lkID0gMSkgYnkgZGVmYXVsdAokZGIgPSBjbXNtcygpLT5HZXREYigpOwokZ3JvdXBfaWQgPSAxOyAvLyBBZG1pbiBncm91cAokcGVybWlzc2lvbl9uYW1lID0gJ1VzZSBNQVNfQ0dCbG9nVG9MSVNFJzsKJHBlcm1faWQgPSAkZGItPkdldE9uZSgnU0VMRUNUIHBlcm1pc3Npb25faWQgRlJPTSAnIC4gQ01TX0RCX1BSRUZJWCAuICdwZXJtaXNzaW9ucyBXSEVSRSBwZXJtaXNzaW9uX25hbWUgPSA/JywgYXJyYXkoJHBlcm1pc3Npb25fbmFtZSkpOwppZiAoJHBlcm1faWQpIHsKICAgICRleGlzdHMgPSAkZGItPkdldE9uZSgnU0VMRUNUIHBlcm1pc3Npb25faWQgRlJPTSAnIC4gQ01TX0RCX1BSRUZJWCAuICdncm91cF9wZXJtcyBXSEVSRSBwZXJtaXNzaW9uX2lkID0gPyBBTkQgZ3JvdXBfaWQgPSA/JywgYXJyYXkoJHBlcm1faWQsICRncm91cF9pZCkpOwogICAgaWYgKCEkZXhpc3RzKSB7CiAgICAgICAgJGRiLT5FeGVjdXRlKCdJTlNFUlQgSU5UTyAnIC4gQ01TX0RCX1BSRUZJWCAuICdncm91cF9wZXJtcyAoZ3JvdXBfaWQsIHBlcm1pc3Npb25faWQpIFZBTFVFUyAoPywgPyknLCBhcnJheSgkZ3JvdXBfaWQsICRwZXJtX2lkKSk7CiAgICB9Cn0KCi8vIFNldCBkZWZhdWx0IGFkbWluIHNlY3Rpb24gdG8gJ2V4dGVuc2lvbnMnCiRkZWZhdWx0X2FkbWluX3NlY3Rpb24gPSAnZXh0ZW5zaW9ucyc7CiRjb25maWcgPSBjbXNfdXRpbHM6OmdldF9jb25maWcoKTsKaWYgKGlzc2V0KCRjb25maWdbJ21hc19jZ2Jsb2d0b2xpc2VfZGVmYXVsdF9hZG1pbl9zZWN0aW9uJ10pKSB7CiAgICAkZGVmYXVsdF9hZG1pbl9zZWN0aW9uID0gJGNvbmZpZ1snbWFzX2NnYmxvZ3RvbGlzZV9kZWZhdWx0X2FkbWluX3NlY3Rpb24nXTsKfQokdGhpcy0+U2V0UHJlZmVyZW5jZSgnbWFzX2NnYmxvZ3RvbGlzZV9hZG1pbl9zZWN0aW9uJywgJGRlZmF1bHRfYWRtaW5fc2VjdGlvbik7CgovLyBDcmVhdGUgbG9ncyBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdAokbW9kdWxlX3BhdGggPSAkdGhpcy0+R2V0TW9kdWxlUGF0aCgpOwokbG9nc19kaXIgPSBjbXNfam9pbl9wYXRoKCRtb2R1bGVfcGF0aCwgJ2xvZ3MnKTsKaWYgKCFpc19kaXIoJGxvZ3NfZGlyKSkgewogICAgQG1rZGlyKCRsb2dzX2RpciwgMDc1NSwgdHJ1ZSk7CiAgICAvLyBTZXQgY29ycmVjdCBvd25lcnNoaXAgZm9yIGxvZ3MgZGlyZWN0b3J5CiAgICBAY2hvd24oJGxvZ3NfZGlyLCAnbmV3c3QzOTIyJyk7CiAgICBAY2hncnAoJGxvZ3NfZGlyLCAnbmV3c3QzOTIyJyk7Cn0KCi8vIEF1ZGl0IGxvZwokdGhpcy0+QXVkaXQoMCwgJHRoaXMtPkxhbmcoJ2ZyaWVuZGx5bmFtZScpLCAkdGhpcy0+TGFuZygnaW5zdGFsbGVkJywgJHRoaXMtPkdldFZlcnNpb24oKSkpOwoKPz4KCg==]]></data>
	</file>
	<file>
	  <filename>/method.uninstall.php</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PD9waHAKLyoqCiAqIFVuaW5zdGFsbGF0aW9uIE1ldGhvZCBmb3IgTUFTX0NHQmxvZ1RvTElTRQogKiBDb21wYXRpYmxlIHdpdGggUEhQIDcuNC04LjYKICovCgppZiAoIWZ1bmN0aW9uX2V4aXN0cygnY21zbXMnKSkgZXhpdDsKCi8vIFJlbW92ZSBwZXJtaXNzaW9uCiR0aGlzLT5SZW1vdmVQZXJtaXNzaW9uKCdVc2UgTUFTX0NHQmxvZ1RvTElTRScpOwoKLy8gTm90ZTogV2Uga2VlcCBsb2dzIGluIGNhc2UgbW9kdWxlIGlzIHJlaW5zdGFsbGVkCi8vIElmIHlvdSB3YW50IHRvIGNvbXBsZXRlbHkgcmVtb3ZlIGV2ZXJ5dGhpbmcsIHVuY29tbWVudCB0aGUgZm9sbG93aW5nOgoKLy8gJG1vZHVsZV9wYXRoID0gJHRoaXMtPkdldE1vZHVsZVBhdGgoKTsKLy8gJGxvZ3NfZGlyID0gY21zX2pvaW5fcGF0aCgkbW9kdWxlX3BhdGgsICdsb2dzJyk7Ci8vIGlmIChpc19kaXIoJGxvZ3NfZGlyKSkgewovLyAgICAgJGZpbGVzID0gZ2xvYigkbG9nc19kaXIgLiAnLyonKTsKLy8gICAgIGZvcmVhY2ggKCRmaWxlcyBhcyAkZmlsZSkgewovLyAgICAgICAgIGlmIChpc19maWxlKCRmaWxlKSkgewovLyAgICAgICAgICAgICBAdW5saW5rKCRmaWxlKTsKLy8gICAgICAgICB9Ci8vICAgICB9Ci8vICAgICBAcm1kaXIoJGxvZ3NfZGlyKTsKLy8gfQoKLy8gQXVkaXQgbG9nCiR0aGlzLT5BdWRpdCgwLCAkdGhpcy0+TGFuZygnZnJpZW5kbHluYW1lJyksICR0aGlzLT5MYW5nKCd1bmluc3RhbGxlZCcpKTsKCj8+Cgo=]]></data>
	</file>
	<file>
	  <filename>/moduleinfo.ini</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[W21vZHVsZV0KbmFtZSA9ICJNQVNfQ0dCbG9nVG9MSVNFIgp2ZXJzaW9uID0gIjEuMC4xIgphdXRob3IgPSAibWFzdGVyMzM5NSIKYXV0aG9yZW1haWwgPSAiaW5mb0BuZXdzdGFyZ2V0ZWQuY29tIgptaW5jbXN2ZXJzaW9uID0gIjIuMi4wIgpsYXp5bG9hZGFkbWluID0gMQpsYXp5bG9hZGZyb250ZW5kID0gMQo=]]></data>
	</file>
	<file>
	  <filename>/templates/</filename>
	  <isdir>1</isdir>
	</file>
	<file>
	  <filename>/templates/donations.tpl</filename>
	  <isdir>0</isdir>
	  <data><![CDATA[PGRpdiBzdHlsZT0iYm9yZGVyOjFweCBzb2xpZCBibGFjaztwYWRkaW5nOjEwcHg7Ij4KPHN0cm9uZz57JHNwb25zb3JzdGV4dH08L3N0cm9uZz4KPGJyLz4KPGEgaHJlZj0iaHR0cHM6Ly9uZXdzdGFyZ2V0ZWQuY29tLyIgdGFyZ2V0PSJfYmxhbmsiPk5ld3MgVGFyZ2V0ZWQ8L2E+Cjxici8+CjwvZGl2Pgo8YnIvPgp7JGRvbmF0aW9uc3RleHR9Cjxici8+PGJyLz4KPGZvcm0gYWN0aW9uPSJodHRwczovL3BheXBhbC5tZS9LaW1CUz9sb2NhbGUueD1lbl9VUyZjb3VudHJ5Lng9Tk8iIG1ldGhvZD0icG9zdCIgdGFyZ2V0PSJfYmxhbmsiPgo8aW5wdXQgdHlwZT0iaW1hZ2UiIHNyYz0iaHR0cHM6Ly93d3cucGF5cGFsLmNvbS9lbl9VUy9pL2J0bi9idG5fZG9uYXRlX0xHLmdpZiIgbmFtZT0ic3VibWl0IiBhbHQ9IlBheVBhbCAtIFRoZSBzYWZlciwgZWFzaWVyIHdheSB0byBwYXkgb25saW5lISIgLz4KPC9mb3JtPgo8YnIvPjxici8+Cgp7JGZvcm1zdGFydH0KeyRoaWRlc3VibWl0fQp7JGZvcm1lbmR9Cg==]]></data>
	</file>
</module>
